var e=Object.defineProperty,a=Object.defineProperties,o=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,r=(a,o,l)=>o in a?e(a,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[o]=l;import{d as i,ba as n,bb as c,bc as d,bd as u,f,Y as p,j as v,K as m,M as g,i as h,p as b,a as w,Q as y,o as x,c as _,b as j,e as C,be as O}from"./vendor.06615944.js";import{u as k,R as I}from"./index.90d0249c.js";import{l as L}from"./logo.472200b6.js";var P=i({components:{PersonOutline:n,LockClosedOutline:c,LogoGithub:d,LogoFacebook:u},setup(){const e=f(),i=p(),n=v({loading:!1,autoLogin:!0,formInline:{username:"admin",password:"123456",isCaptcha:!1}}),c=k(),d=m(),u=g();return b=((e,a)=>{for(var o in a||(a={}))s.call(a,o)&&r(e,o,a[o]);if(l)for(var o of l(a))t.call(a,o)&&r(e,o,a[o]);return e})({},h(n)),a(b,o({formRef:e,rules:{username:{required:!0,message:"请输入用户名",trigger:"blur"},password:{required:!0,message:"请输入密码",trigger:"blur"},isCaptcha:{required:!0,type:"boolean",trigger:"change",message:"请点击按钮进行验证码校验",validator:(e,a)=>!0===a}},logo:L,handleSubmit:a=>{a.preventDefault(),e.value.validate((e=>{return o=this,l=null,s=function*(){var a;if(e)i.error("请填写完整信息，并且进行验证码校验");else{const{username:e,password:o}=n.formInline;i.loading("登录中..."),n.loading=!0;const l={username:e,password:o},{code:s,message:t}=yield c.login(l);if(s==I.SUCCESS){const e=decodeURIComponent((null==(a=u.query)?void 0:a.redirect)||"/");i.success("登录成功！"),d.replace(e).then((e=>{"login"==u.name&&d.replace("/")}))}else i.info(t||"登录失败")}},new Promise(((e,t)=>{var r=e=>{try{n(s.next(e))}catch(a){t(a)}},i=e=>{try{n(s.throw(e))}catch(a){t(a)}},n=a=>a.done?e(a.value):Promise.resolve(a.value).then(r,i);n((s=s.apply(o,l)).next())}));var o,l,s}))},onAuthCode:function(){n.formInline.isCaptcha=!0}}));var b}});const S=C();b("data-v-044bafd4");const z={class:"view-account"},U=j("div",{class:"view-account-header"},null,-1),q={class:"view-account-container"},R=j("div",{class:"view-account-top"},[j("div",{class:"view-account-top-logo"},[j("img",{src:"/assets/account-logo.0a6f895e.png",alt:""})]),j("div",{class:"view-account-top-desc"},"Naive Ui Admin中台前端/设计解决方案")],-1),A={class:"view-account-form"},D={class:"w-full"},E={class:"flex justify-between"},F={class:"flex-initial"},G=O("自动登录"),K=j("div",{class:"flex-initial order-last"},[j("a",{href:"javascript:;"},"忘记密码")],-1),M=O(" 登录 "),N={class:"flex view-account-other"},Q=j("div",{class:"flex-initial"},[j("span",null,"其它登录方式")],-1),Y={class:"flex-initial mx-2"},B={href:"javascript:;"},H={class:"flex-initial mx-2"},J={href:"javascript:;"},T=j("div",{class:"flex-initial",style:{"margin-left":"auto"}},[j("a",{href:"javascript:;"},"注册账号")],-1);w();const V=S(((e,a,o,l,s,t)=>{const r=y("PersonOutline"),i=y("n-icon"),n=y("n-input"),c=y("n-form-item"),d=y("LockClosedOutline"),u=y("mi-captcha"),f=y("n-checkbox"),p=y("n-button"),v=y("LogoGithub"),m=y("LogoFacebook"),g=y("n-form");return x(),_("div",z,[U,j("div",q,[R,j("div",A,[j(g,{ref:"formRef","label-placement":"left",size:"large",model:e.formInline,rules:e.rules},{default:S((()=>[j(c,{path:"username"},{default:S((()=>[j(n,{value:e.formInline.username,"onUpdate:value":a[1]||(a[1]=a=>e.formInline.username=a),placeholder:"请输入用户名"},{prefix:S((()=>[j(i,{size:"18",color:"#808695"},{default:S((()=>[j(r)])),_:1})])),_:1},8,["value"])])),_:1}),j(c,{path:"password"},{default:S((()=>[j(n,{value:e.formInline.password,"onUpdate:value":a[2]||(a[2]=a=>e.formInline.password=a),type:"password","show-password-toggle":"",placeholder:"请输入密码"},{prefix:S((()=>[j(i,{size:"18",color:"#808695"},{default:S((()=>[j(d)])),_:1})])),_:1},8,["value"])])),_:1}),j(c,{path:"isCaptcha"},{default:S((()=>[j("div",D,[j(u,{width:"384","theme-color":"#2d8cf0",logo:e.logo,onSuccess:e.onAuthCode},null,8,["logo","onSuccess"])])])),_:1}),j(c,{class:"default-color"},{default:S((()=>[j("div",E,[j("div",F,[j(f,{checked:e.autoLogin,"onUpdate:checked":a[3]||(a[3]=a=>e.autoLogin=a)},{default:S((()=>[G])),_:1},8,["checked"])]),K])])),_:1}),j(c,null,{default:S((()=>[j(p,{type:"primary",onClick:e.handleSubmit,size:"large",loading:e.loading,block:""},{default:S((()=>[M])),_:1},8,["onClick","loading"])])),_:1}),j(c,{class:"default-color"},{default:S((()=>[j("div",N,[Q,j("div",Y,[j("a",B,[j(i,{size:"24",color:"#2d8cf0"},{default:S((()=>[j(v)])),_:1})])]),j("div",H,[j("a",J,[j(i,{size:"24",color:"#2d8cf0"},{default:S((()=>[j(m)])),_:1})])]),T])])),_:1})])),_:1},8,["model","rules"])])])])}));P.render=V,P.__scopeId="data-v-044bafd4";export default P;
