var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(a,t,o)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o;import{_ as i,a as s}from"./TableAction.c25cd1f8.js";import{g as d}from"./list.2bb844ec.js";import{s as c,au as u,d as m,bG as f,M as p,f as b,Y as h,j as y,i as w,R as g,o as v,c as k,a2 as P,b as _,be as C}from"./vendor.36b62bbc.js";import"./useDesignSetting.0ef99ad5.js";import"./index.675c56d3.js";import"./componentSetting.df76d574.js";import"./index.esm.eb3c857d.js";const T=[{title:"id",key:"id"},{title:"名称",key:"name"},{title:"头像",key:"avatar",render:e=>c(u,{size:48,src:e.avatar})},{title:"地址",key:"address",auth:["basic_list"],ifShow:e=>!0},{title:"开始日期",key:"beginTime"},{title:"结束日期",key:"endTime"},{title:"创建时间",key:"date"}],j={name:{required:!0,trigger:["blur","input"],message:"请输入名称"},address:{required:!0,trigger:["blur","input"],message:"请输入地址"},date:{type:"number",required:!0,trigger:["blur","change"],message:"请选择日期"}};var O=m({components:{BasicTable:i,PlusOutlined:f,TableAction:s},setup(){const e=p(),i=b(null),u=h(),m=b(),f=y({showModal:!1,formBtnLoading:!1,formParams:{name:"",address:"",date:[]},params:{pageSize:5,name:"xiaoMa"},actionColumn:{width:250,title:"操作",dataIndex:"action",fixed:"right",render:e=>c(s,{style:"button",actions:[{label:"删除",icon:"ic:outline-delete-outline",onClick:k.bind(null,e),ifShow:()=>!0,auth:["basic_list"]},{label:"编辑",onClick:v.bind(null,e),ifShow:()=>!0,auth:["basic_list"]}],dropDownActions:[{label:"启用",key:"enabled",ifShow:()=>!0},{label:"禁用",key:"disabled",ifShow:()=>!0}],select:e=>{u.info(`您点击了，${e} 按钮`)}})}});function g(){m.value.reload()}function v(a){e.push({name:"basic-info",params:{id:a.id}})}function k(e){u.info("点击了删除")}return P=((e,a)=>{for(var t in a||(a={}))l.call(a,t)&&r(e,t,a[t]);if(o)for(var t of o(a))n.call(a,t)&&r(e,t,a[t]);return e})({},w(f)),a(P,t({formRef:i,columns:T,rules:j,actionRef:m,confirmForm:function(e){e.preventDefault(),f.formBtnLoading=!0,i.value.validate((e=>{e?u.error("请填写完整信息"):(u.success("新建成功"),setTimeout((()=>{f.showModal=!1,g()}))),f.formBtnLoading=!1}))},loadDataTable:e=>{return a=this,t=null,o=function*(){return yield d(e)},new Promise(((e,l)=>{var n=e=>{try{i(o.next(e))}catch(a){l(a)}},r=e=>{try{i(o.throw(e))}catch(a){l(a)}},i=a=>a.done?e(a.value):Promise.resolve(a.value).then(n,r);i((o=o.apply(a,t)).next())}));var a,t,o},onCheckedRow:function(e){},reloadTable:g,addTable:function(){f.showModal=!0},handleEdit:v,handleDelete:k,handleOpen:function(e){u.info("点击了删除")}}));var P}});const x=C(" 新建 "),R=C("刷新数据"),S=C("取消"),M=C("确定");O.render=function(e,a,t,o,l,n){const r=g("PlusOutlined"),i=g("n-icon"),s=g("n-button"),d=g("TableAction"),c=g("BasicTable"),u=g("n-input"),m=g("n-form-item"),f=g("n-date-picker"),p=g("n-form"),b=g("n-space"),h=g("n-modal"),y=g("n-card");return v(),k(y,{bordered:!1,class:"proCard"},{default:P((()=>[_(c,{columns:e.columns,request:e.loadDataTable,"row-key":e=>e.id,ref:"actionRef",actionColumn:e.actionColumn,"onUpdate:checkedRowKeys":e.onCheckedRow},{tableTitle:P((()=>[_(s,{type:"primary",onClick:e.addTable},{icon:P((()=>[_(i,null,{default:P((()=>[_(r)])),_:1})])),default:P((()=>[x])),_:1},8,["onClick"])])),toolbar:P((()=>[_(s,{type:"primary",onClick:e.reloadTable},{default:P((()=>[R])),_:1},8,["onClick"])])),action:P((()=>[_(d)])),_:1},8,["columns","request","row-key","actionColumn","onUpdate:checkedRowKeys"]),_(h,{show:e.showModal,"onUpdate:show":a[5]||(a[5]=a=>e.showModal=a),"show-icon":!1,preset:"dialog",title:"新建"},{action:P((()=>[_(b,null,{default:P((()=>[_(s,{onClick:a[4]||(a[4]=()=>e.showModal=!1)},{default:P((()=>[S])),_:1}),_(s,{type:"info",loading:e.formBtnLoading,onClick:e.confirmForm},{default:P((()=>[M])),_:1},8,["loading","onClick"])])),_:1})])),default:P((()=>[_(p,{model:e.formParams,rules:e.rules,ref:"formRef","label-placement":"left","label-width":80,class:"py-4"},{default:P((()=>[_(m,{label:"名称",path:"name"},{default:P((()=>[_(u,{placeholder:"请输入名称",value:e.formParams.name,"onUpdate:value":a[1]||(a[1]=a=>e.formParams.name=a)},null,8,["value"])])),_:1}),_(m,{label:"地址",path:"address"},{default:P((()=>[_(u,{type:"textarea",placeholder:"请输入地址",value:e.formParams.address,"onUpdate:value":a[2]||(a[2]=a=>e.formParams.address=a)},null,8,["value"])])),_:1}),_(m,{label:"日期",path:"date"},{default:P((()=>[_(f,{type:"datetime",placeholder:"请选择日期",value:e.formParams.date,"onUpdate:value":a[3]||(a[3]=a=>e.formParams.date=a)},null,8,["value"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["show"])])),_:1})};export default O;
