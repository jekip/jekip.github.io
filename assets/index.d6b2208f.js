var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(a,t,o)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o;import{_ as i,a as s}from"./TableAction.2911f338.js";import{g as d}from"./list.85ddab9f.js";import{s as c,at as u,d as f,by as m,Q as p,f as b,Z as h,j as y,i as w,p as v,a as g,V as k,o as _,c as P,b as C,e as T,bf as j}from"./vendor.af0afcfa.js";import"./useDesignSetting.dc32ca88.js";import"./index.98c7fc5c.js";import"./componentSetting.df76d574.js";const O=[{title:"id",key:"id"},{title:"名称",key:"name"},{title:"头像",key:"avatar",render:e=>c(u,{size:48,src:e.avatar})},{title:"地址",key:"address",auth:["basic_list"],ifShow:e=>!0},{title:"开始日期",key:"beginTime"},{title:"结束日期",key:"endTime"},{title:"创建时间",key:"date"}],S={name:{required:!0,trigger:["blur","input"],message:"请输入名称"},address:{required:!0,trigger:["blur","input"],message:"请输入地址"},date:{type:"number",required:!0,trigger:["blur","change"],message:"请选择日期"}};var x=f({components:{BasicTable:i,PlusOutlined:m,TableAction:s},setup(){const e=p(),i=b(null),u=h(),f=b(),m=y({showModal:!1,formBtnLoading:!1,formParams:{name:"",address:"",date:[]},params:{pageSize:5,name:"xiaoMa"},actionColumn:{width:250,title:"操作",dataIndex:"action",fixed:"right",render:e=>c(s,{style:"button",actions:[{label:"删除",icon:"ic:outline-delete-outline",onClick:k.bind(null,e),ifShow:()=>!0,auth:["basic_list"]},{label:"编辑",onClick:g.bind(null,e),ifShow:()=>!0,auth:["basic_list"]}],dropDownActions:[{label:"启用",key:"enabled",ifShow:e=>!0},{label:"禁用",key:"disabled",ifShow:()=>!0}],select:e=>{u.info(`您点击了，${e} 按钮`)}})}});function v(){f.value.reload()}function g(a){e.push({name:"basic-info",params:{id:a.id}})}function k(e){u.info("点击了删除")}return _=((e,a)=>{for(var t in a||(a={}))l.call(a,t)&&r(e,t,a[t]);if(o)for(var t of o(a))n.call(a,t)&&r(e,t,a[t]);return e})({},w(m)),a(_,t({formRef:i,columns:O,rules:S,actionRef:f,confirmForm:function(e){e.preventDefault(),m.formBtnLoading=!0,i.value.validate((e=>{e?u.error("请填写完整信息"):(u.success("新建成功"),setTimeout((()=>{m.showModal=!1,v()}))),m.formBtnLoading=!1}))},loadDataTable:e=>{return a=this,t=null,o=function*(){return yield d(e)},new Promise(((e,l)=>{var n=e=>{try{i(o.next(e))}catch(a){l(a)}},r=e=>{try{i(o.throw(e))}catch(a){l(a)}},i=a=>a.done?e(a.value):Promise.resolve(a.value).then(n,r);i((o=o.apply(a,t)).next())}));var a,t,o},onCheckedRow:function(e){},reloadTable:v,addTable:function(){m.showModal=!0},handleEdit:g,handleDelete:k,handleOpen:function(e){u.info("点击了删除")}}));var _}});const R=T();v("data-v-7c456577");const D=j(" 新建 "),M=j("刷新数据"),B=j("取消"),U=j("确定");g();const q=R(((e,a,t,o,l,n)=>{const r=k("PlusOutlined"),i=k("n-icon"),s=k("n-button"),d=k("TableAction"),c=k("BasicTable"),u=k("n-input"),f=k("n-form-item"),m=k("n-date-picker"),p=k("n-form"),b=k("n-space"),h=k("n-modal"),y=k("n-card");return _(),P(y,{bordered:!1,class:"proCard"},{default:R((()=>[C(c,{columns:e.columns,request:e.loadDataTable,"row-key":e=>e.id,ref:"actionRef",actionColumn:e.actionColumn,"onUpdate:checkedRowKeys":e.onCheckedRow},{tableTitle:R((()=>[C(s,{type:"primary",onClick:e.addTable},{icon:R((()=>[C(i,null,{default:R((()=>[C(r)])),_:1})])),default:R((()=>[D])),_:1},8,["onClick"])])),toolbar:R((()=>[C(s,{type:"primary",onClick:e.reloadTable},{default:R((()=>[M])),_:1},8,["onClick"])])),action:R((({record:e})=>[C(d)])),_:1},8,["columns","request","row-key","actionColumn","onUpdate:checkedRowKeys"]),C(h,{show:e.showModal,"onUpdate:show":a[5]||(a[5]=a=>e.showModal=a),"show-icon":!1,preset:"dialog",title:"新建"},{action:R((()=>[C(b,null,{default:R((()=>[C(s,{onClick:a[4]||(a[4]=()=>e.showModal=!1)},{default:R((()=>[B])),_:1}),C(s,{type:"info",loading:e.formBtnLoading,onClick:e.confirmForm},{default:R((()=>[U])),_:1},8,["loading","onClick"])])),_:1})])),default:R((()=>[C(p,{model:e.formParams,rules:e.rules,ref:"formRef","label-placement":"left","label-width":80,class:"py-4"},{default:R((()=>[C(f,{label:"名称",path:"name"},{default:R((()=>[C(u,{placeholder:"请输入名称",value:e.formParams.name,"onUpdate:value":a[1]||(a[1]=a=>e.formParams.name=a)},null,8,["value"])])),_:1}),C(f,{label:"地址",path:"address"},{default:R((()=>[C(u,{type:"textarea",placeholder:"请输入地址",value:e.formParams.address,"onUpdate:value":a[2]||(a[2]=a=>e.formParams.address=a)},null,8,["value"])])),_:1}),C(f,{label:"日期",path:"date"},{default:R((()=>[C(m,{type:"datetime",placeholder:"请选择日期",value:e.formParams.date,"onUpdate:value":a[3]||(a[3]=a=>e.formParams.date=a)},null,8,["value"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["show"])])),_:1})}));x.render=q,x.__scopeId="data-v-7c456577";export default x;
