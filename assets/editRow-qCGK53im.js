import{B as g}from"./Table-hOMJHovZ.js";import{T as v}from"./TableAction-h2fMWYZW.js";import{g as R}from"./list-MpWUSPks.js";import{m as o,k as x,r as s,e as l,a4 as E,O as T,a3 as N,a2 as A,K as r}from"./vue-C3qUmXuJ.js";import{t as B,H as u,w as K}from"./naive-ui-zccZ3jep.js";import"./vuedraggable-tl9zbDm_.js";import"./vue-quill-DMQesYph.js";import"./useDesignSetting-BQE1soGM.js";import"./index--2wEcaVU.js";import"./pinia-DjitYwKU.js";import"./lodash-es-Wid6WkHk.js";import"./vue-router-DVIe63a7.js";import"./vicons-antd-g9a0d-xa.js";import"./vicons-ionicons5-Ctkv33lH.js";import"./propTypes-BvihHqXo.js";import"./componentSetting-DYSsJNsh.js";import"./vueuse-CJoAbtOQ.js";const S={male:"男",female:"女",unknown:"未知"},z={close:"已取消",refuse:"已拒绝",pass:"已通过"},D=[{title:"id",key:"id"},{title:"名称",key:"name",editComponent:"NInput",editRow:!0,editRule:!0,edit:!0},{title:"头像",key:"avatar",render(t){return o(B,{size:50,src:t.avatar})}},{title:"性别",key:"sex",render(t){return o(u,{type:t.sex==="male"?"info":"error"},{default:()=>S[t.sex]})}},{title:"邮箱",key:"email",width:220},{title:"城市",key:"city",editComponent:"NSelect",editComponentProps:{options:[{label:"深圳市",value:1},{label:"广州市",value:2}]},editRow:!0,edit:!0,width:220},{title:"状态",key:"status",render(t){return o(u,{type:t.status==="close"?"default":t.status==="refuse"?"error":"success"},{default:()=>z[t.status]})}},{title:"创建时间",key:"createDate"}],Y=x({__name:"editRow",setup(t){const c=s(),i=s(""),d=l({pageSize:5,name:"NaiveAdmin"}),m=l({width:150,title:"操作",key:"action",fixed:"right",align:"center",render(e){return o(v,{style:"button",actions:_(e)})}});function p(e){i.value=e.key,e.onEdit?.(!0)}function f(e){i.value="",e.onEdit?.(!1,!1)}function k({column:e,value:n,record:a}){e.key==="id"&&(a.editValueRefs.name4.value=`${n}`),console.log(e,n,a)}async function y(e){await e.onEdit?.(!1,!0)&&(i.value="")}function _(e){return e.editable?[{label:"保存",onClick:y.bind(null,e)},{label:"取消",onClick:f.bind(null,e)}]:[{label:"编辑",onClick:p.bind(null,e)}]}const b=async e=>await R({...d,...e});function w(e){console.log(e)}function C({value:e}){console.log(e)}return(e,n)=>{const a=K;return T(),E(a,{bordered:!1,class:"proCard"},{default:N(()=>[A(r(g),{title:"表格列表",titleTooltip:"这是一个提示",columns:r(D),request:b,"row-key":h=>h.id,ref_key:"actionRef",ref:c,actionColumn:m,onEditEnd:C,onEditChange:k,"onUpdate:checkedRowKeys":w,"scroll-x":1590},null,8,["columns","row-key","actionColumn"])]),_:1})}}});export{Y as default};
