import{e as C,f as D,h as S,_ as $}from"./index--2wEcaVU.js";import{t as k}from"./vicons-antd-g9a0d-xa.js";import{k as v,c as m,Y as g,N as w,O as a,P as p,a4 as d,a1 as h,F as x,$ as B,a3 as l,q as P,s as A,a2 as f,a0 as N,ab as T,j as F,_ as O}from"./vue-C3qUmXuJ.js";import{B as z,h as L,q as V}from"./naive-ui-zccZ3jep.js";const q=v({name:"TableAction",components:{DownOutlined:k},props:{actions:{type:Array,default:null,required:!0},dropDownActions:{type:Array,default:null},style:{type:String,default:"button"},select:{type:Function,default:()=>{}}},setup(t){const{hasPermission:s}=C(),i=t.style==="button"?"default":t.style==="text"?"primary":"default",c=t.style==="button"?void 0:t.style==="text"?!0:void 0,_=m(()=>({text:c,type:i,size:"small"})),y=m(()=>(g(t.dropDownActions)||[]).filter(e=>s(e.auth)&&r(e)).map(e=>{const{popConfirm:o}=e;return{size:"small",text:c,type:i,...e,...o,onConfirm:o?.confirm,onCancel:o?.cancel}}));function r(e){const o=e.ifShow;let n=!0;return D(o)&&(n=o),S(o)&&(n=o(e)),n}return{getActions:m(()=>(g(t.actions)||[]).filter(e=>s(e.auth)&&r(e)).map(e=>{const{popConfirm:o}=e;return{size:"small",text:c,type:i,...e,...o||{},onConfirm:o?.confirm,onCancel:o?.cancel,enable:!!o}})),getDropdownList:y,getMoreProps:_}}}),I={class:"tableAction"},j={class:"flex items-center justify-center"},M={class:"flex items-center"};function E(t,s,i,c,_,y){const r=L,u=z,e=N("DownOutlined"),o=V;return a(),w("div",I,[p("div",j,[(a(!0),w(x,null,B(t.getActions,(n,b)=>(a(),d(u,A({key:`${b}-${n.label}`,ref_for:!0},n,{class:"mx-1"}),T({default:l(()=>[F(O(n.label)+" ",1)]),_:2},[n.hasOwnProperty("icon")?{name:"icon",fn:l(()=>[f(r,{component:n.icon},null,8,["component"])]),key:"0"}:void 0]),1040))),128)),t.dropDownActions&&t.getDropdownList.length?(a(),d(o,{key:0,trigger:"hover",options:t.getDropdownList,onSelect:t.select},{default:l(()=>[P(t.$slots,"more"),t.$slots.more?h("",!0):(a(),d(u,A({key:0},t.getMoreProps,{class:"mx-1","icon-placement":"right"}),{default:l(()=>[p("div",M,[s[0]||(s[0]=p("span",null,"更多",-1)),f(r,{size:"14",class:"ml-1"},{default:l(()=>[f(e)]),_:1})])]),_:1},16))]),_:3},8,["options","onSelect"])):h("",!0)])])}const J=$(q,[["render",E]]);export{J as T};
