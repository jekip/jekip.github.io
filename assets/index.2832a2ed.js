var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(t,o,r)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[o]=r,i=(e,t)=>{for(var o in t||(t={}))n.call(t,o)&&s(e,o,t[o]);if(r)for(var o of r(t))a.call(t,o)&&s(e,o,t[o]);return e},c=(e,r)=>t(e,o(r)),l=(e,t,o)=>new Promise(((r,n)=>{var a=e=>{try{i(o.next(e))}catch(t){n(t)}},s=e=>{try{i(o.throw(e))}catch(t){n(t)}},i=e=>e.done?r(e.value):Promise.resolve(e.value).then(a,s);i((o=o.apply(e,t)).next())}));import{d as u,p as d,a as m,o as p,c as h,b as g,t as f,F as _,r as b,w as v,v as T,e as E,f as y,g as L,h as k,i as R,j as O,k as I,l as S,m as P,E as w,n as A,q as C,s as D,N as M,W as x,D as j,u as U,P as N,T as V,C as B,S as G,x as $,y as q,z as F,A as H,B as z,G as K,L as W,H as Y,U as X,I as Z,J,K as Q,M as ee,O as te,Q as oe,R as re,V as ne,X as ae,Y as se,Z as ie,_ as ce,$ as le,a0 as ue,a1 as de,a2 as me,a3 as pe,a4 as he,a5 as ge,a6 as fe,a7 as _e,a8 as be,a9 as ve,aa as Te,ab as Ee,ac as ye,ad as Le,ae as ke,af as Re,ag as Oe,ah as Ie,ai as Se,aj as Pe,ak as we,al as Ae,am as Ce,an as De,ao as Me,ap as xe,aq as je,ar as Ue,as as Ne,at as Ve,au as Be,av as Ge,aw as $e,ax as qe,ay as Fe,az as He,aA as ze,aB as Ke,aC as We,aD as Ye,aE as Xe,aF as Ze,aG as Je,aH as Qe,aI as et,aJ as tt,aK as ot,aL as rt,aM as nt,aN as at,aO as st,aP as it,aQ as ct,aR as lt,aS as ut,aT as dt,aU as mt,aV as pt,aW as ht,aX as gt,aY as ft,aZ as _t,a_ as bt,a$ as vt,b0 as Tt,b1 as Et,b2 as yt,b3 as Lt,b4 as kt,b5 as Rt,b6 as Ot,b7 as It}from"./vendor.735a8723.js";var St,Pt,wt,At,Ct,Dt;(Pt=St||(St={}))[Pt.SUCCESS=200]="SUCCESS",Pt[Pt.ERROR=-1]="ERROR",Pt[Pt.TIMEOUT=10042]="TIMEOUT",Pt.TYPE="success",(At=wt||(wt={})).GET="GET",At.POST="POST",At.PATCH="PATCH",At.PUT="PUT",At.DELETE="DELETE",(Dt=Ct||(Ct={})).JSON="application/json;charset=UTF-8",Dt.TEXT="text/plain;charset=UTF-8",Dt.FORM_URLENCODED="application/x-www-form-urlencoded;charset=UTF-8",Dt.FORM_DATA="multipart/form-data;charset=UTF-8";var Mt=u({name:"HuaweiCharge",props:{battery:{type:Object,default:()=>({})},calcDischargingTime:{type:String,default:""},batteryStatus:{type:String,validator:e=>["充电中","已充满","已断开电源"].includes(e)}}});const xt=E();d("data-v-578dc66e");const jt={class:"container"},Ut={class:"number"},Nt={class:"contrast"},Vt=g("div",{class:"circle"},null,-1),Bt={class:"bubbles"},Gt={class:"charging"};m();const $t=xt(((e,t,o,r,n,a)=>(p(),h("div",jt,[g("div",Ut,f(e.battery.level)+"%",1),g("div",Nt,[Vt,g("ul",Bt,[(p(),h(_,null,b(15,(e=>g("li",{key:e}))),64))])]),g("div",Gt,[g("div",null,f(e.batteryStatus),1),v(g("div",null," 剩余可使用时间："+f(e.calcDischargingTime),513),[[T,Number.isFinite(e.battery.dischargingTime)&&0!=e.battery.dischargingTime]]),v(g("span",null," 距离电池充满需要："+f(e.calcDischargingTime),513),[[T,Number.isFinite(e.battery.chargingTime)&&0!=e.battery.chargingTime]])])]))));Mt.render=$t,Mt.__scopeId="data-v-578dc66e";const qt=()=>{const e=O({battery:{charging:!1,chargingTime:0,dischargingTime:0,level:100}}),t=t=>{for(const o in e.battery)e.battery[o]=t[o];e.battery.level=100*e.battery.level},o=I((()=>`${~~(e.battery.dischargingTime/3600)}小时${~~(e.battery.dischargingTime/60%60)}分钟`)),r=I((()=>e.battery.charging&&e.battery.level>=100?"已充满":e.battery.charging?"充电中":"已断开电源"));return L((()=>l(this,null,(function*(){const e=yield window.navigator.getBattery();t(e),e.onchargingchange=({target:e})=>{t(e)},e.onchargingtimechange=({target:e})=>{t(e)},e.ondischargingtimechange=({target:e})=>{t(e)},e.onlevelchange=({target:e})=>{t(e)}})))),c(i({},R(e)),{batteryStatus:r,calcDischargingTime:o})},Ft="Tabs-Routes",Ht=({prefixKey:e="",storage:t=localStorage}={})=>new class{constructor(){this.storage=t,this.prefixKey=e}getKey(e){return`${this.prefixKey}${e}`.toUpperCase()}set(e,t,o=604800){const r=JSON.stringify({value:t,expire:null!==o?(new Date).getTime()+1e3*o:null});this.storage.setItem(this.getKey(e),r)}get(e,t=null){const o=this.storage.getItem(this.getKey(e));if(o)try{const t=JSON.parse(o),{value:r,expire:n}=t;if(null===n||n>=Date.now())return r;this.remove(this.getKey(e))}catch(r){return t}return t}remove(e){this.storage.removeItem(this.getKey(e))}clear(){this.storage.clear()}setCookie(e,t,o=604800){document.cookie=`${this.getKey(e)}=${t}; Max-Age=${o}`}getCookie(e){const t=document.cookie.split("; ");for(let o=0,r=t.length;o<r;o++){const r=t[o].split("=");if(r[0]===this.getKey(e))return r[1]}return""}removeCookie(e){this.setCookie(e,1,-1)}clearCookie(){const e=document.cookie.match(/[^ =;]+(?==)/g);if(e)for(let t=e.length;t--;)document.cookie=e[t]+"=0;expire="+new Date(0).toUTCString()}},zt=Ht(),Kt=zt.get("Is-Lockscreen",!1),Wt=S({id:"app-lockscreen",state:()=>({isLock:!0===Kt,lockTime:"true"==Kt?3600:0}),getters:{},actions:{setLock(e){this.isLock=e,zt.set("Is-Lockscreen",this.isLock)},setLockTime(e=3600){this.lockTime=e}}}),Yt=P();const Xt=Object.prototype.toString;function Zt(e,t){return Xt.call(e)===`[object ${t}]`}function Jt(e){return Zt(e,"Function")}function Qt(e){return Zt(e,"Number")}function eo(e){return Zt(e,"String")}function to(e){return Zt(e,"Boolean")}function oo(e){return e&&Array.isArray(e)}let ro=new Map;const no=e=>[e.method,e.url,w.stringify(e.data),w.stringify(e.params)].join("&");class ao{addPending(e){this.removePending(e);const t=no(e);e.cancelToken=e.cancelToken||new A.CancelToken((e=>{ro.has(t)||ro.set(t,e)}))}removeAllPending(){ro.forEach((e=>{e&&Jt(e)&&e()})),ro.clear()}removePending(e){const t=no(e);if(ro.has(t)){const e=ro.get(t);e&&e(t),ro.delete(t)}}reset(){ro=new Map}}function so(e,t=!1){if(!e)return t?"":{};const o=(new Date).getTime();return t?`?_t=${o}`:{_t:o}}function io(e){var t;if("[object Object]"===Object.prototype.toString.call(e))for(const r in e){if(e[r]&&e[r]._isAMomentObject&&(e[r]=e[r].format("YYYY-MM-DD HH:mm")),eo(r)){const t=e[r];if(t)try{e[r]=eo(t)?t.trim():t}catch(o){throw new Error(o)}}null!==(t=e[r])&&Zt(t,"Object")&&io(e[r])}}const co=()=>{const{VITE_GLOB_APP_TITLE:e,VITE_GLOB_API_URL:t,VITE_GLOB_APP_SHORT_NAME:o,VITE_GLOB_API_URL_PREFIX:r,VITE_GLOB_UPLOAD_URL:n,VITE_GLOB_PROD_MOCK:a,VITE_GLOB_IMG_URL:s}=function(){const e="__PRODUCTION__AdminPro__CONF__".toUpperCase().replace(/\s/g,""),t=window[e],{VITE_GLOB_APP_TITLE:o,VITE_GLOB_API_URL:r,VITE_GLOB_APP_SHORT_NAME:n,VITE_GLOB_API_URL_PREFIX:a,VITE_GLOB_UPLOAD_URL:s,VITE_GLOB_PROD_MOCK:i,VITE_GLOB_IMG_URL:c}=t;return/^[a-zA-Z\_]*$/.test(n),{VITE_GLOB_APP_TITLE:o,VITE_GLOB_API_URL:r,VITE_GLOB_APP_SHORT_NAME:n,VITE_GLOB_API_URL_PREFIX:a,VITE_GLOB_UPLOAD_URL:s,VITE_GLOB_PROD_MOCK:i,VITE_GLOB_IMG_URL:c}}();/[a-zA-Z\_]*/.test(o);return{title:e,apiUrl:t,shortName:o,urlPrefix:r,uploadUrl:n,prodMock:a,imgUrl:s}};let lo;const uo={},mo=function(e,t){if(!t||0===t.length)return e();if(void 0===lo){const e=document.createElement("link").relList;lo=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in uo)return;uo[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":lo,t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)})):void 0}))).then((()=>e()))},po=()=>mo((()=>import("./index.fc968256.js")),["/assets/index.fc968256.js","/assets/index.2472fc2e.css","/assets/vendor.735a8723.js","/assets/logo.472200b6.js","/assets/useDesignSetting.739a8556.js"]);var ho,go;function fo(e){return()=>D(M,null,{default:()=>D(e)})}function _o(e){return e.filter((e=>1!=e.meta.hidden&&!["/:path(.*)*","/",ho.REDIRECT,ho.BASE_LOGIN].includes(e.path))).map((e=>{const t=c(i(i({},e),e.meta),{label:e.meta.title,key:e.name});return e.children&&e.children.length>0&&(t.children=_o(e.children)),t}))}(go=ho||(ho={})).BASE_LOGIN="/login",go.BASE_LOGIN_NAME="Login",go.REDIRECT="/redirect",go.REDIRECT_NAME="Redirect",go.BASE_HOME="/dashboard",go.ERROR_PAGE_NAME="ErrorPage";const bo=(e,t)=>{const o=e;return o.install=r=>{r.component(o.name||o.displayName,e),t&&(r.config.globalProperties[t]=e)},e},vo=[{path:"/comp",name:"comp",redirect:"/comp/console",component:po,meta:{title:"组件示例",icon:fo(x),sort:8},children:[{path:"table",name:"comp_table",meta:{title:"表格"},component:()=>mo((()=>import("./list.ad6d39c9.js")),["/assets/list.ad6d39c9.js","/assets/list.cb61a6c7.js","/assets/list.55921772.css","/assets/vendor.735a8723.js","/assets/useDesignSetting.739a8556.js","/assets/componentSetting.df76d574.js"])},{path:"upload",name:"comp_upload",meta:{title:"上传"},component:()=>mo((()=>import("./index.37d90191.js")),["/assets/index.37d90191.js","/assets/BasicUpload.96819e8e.js","/assets/BasicUpload.7f65059b.css","/assets/vendor.735a8723.js","/assets/componentSetting.df76d574.js"])}]}];var To=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:vo});const Eo=[{path:"/dashboard",name:"dashboard",redirect:"/dashboard/console",component:po,meta:{title:"Dashboard",icon:fo(j),permission:["dashboard_console","dashboard_console","dashboard_workplace"],sort:0},children:[{path:"console",name:"dashboard_console",meta:{title:"主控台",permission:["dashboard_console"]},component:()=>mo((()=>import("./console.54c5e038.js")),["/assets/console.54c5e038.js","/assets/vendor.735a8723.js"])},{path:"workplace",name:"dashboard_workplace",meta:{title:"工作台",keepAlive:!0,permission:["dashboard_workplace"]},component:()=>mo((()=>import("./workplace.e833200f.js")),["/assets/workplace.e833200f.js","/assets/workplace.c0e5a46a.css","/assets/vendor.735a8723.js"])}]}];var yo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Eo});const Lo=[{path:"/exception",name:"Exception",redirect:"/exception/403",component:po,meta:{title:"异常页面",icon:fo(U),sort:3},children:[{path:"403",name:"exception-403",meta:{title:"403"},component:()=>mo((()=>import("./403.9a2f2fd7.js")),["/assets/403.9a2f2fd7.js","/assets/403.275465c9.css","/assets/vendor.735a8723.js"])},{path:"404",name:"exception-404",meta:{title:"404"},component:()=>mo((()=>import("./404.dbd44716.js")),["/assets/404.dbd44716.js","/assets/404.c43cb1e6.css","/assets/vendor.735a8723.js"])},{path:"500",name:"exception-500",meta:{title:"500"},component:()=>mo((()=>import("./500.50cb58d1.js")),["/assets/500.50cb58d1.js","/assets/500.497b9791.css","/assets/vendor.735a8723.js"])}]}];var ko=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Lo});const Ro=[{path:"/form",name:"Form",redirect:"/form/basic-form",component:po,meta:{title:"表单页面",icon:fo(N),sort:1},children:[{path:"basic-form",name:"form-basic-form",meta:{title:"基础表单"},component:()=>mo((()=>import("./index.5517075f.js")),["/assets/index.5517075f.js","/assets/BasicUpload.96819e8e.js","/assets/BasicUpload.7f65059b.css","/assets/vendor.735a8723.js","/assets/componentSetting.df76d574.js"])},{path:"step-form",name:"form-step-form",meta:{title:"分步表单"},component:()=>mo((()=>import("./stepForm.1771f5b6.js")),["/assets/stepForm.1771f5b6.js","/assets/stepForm.58ac4a23.css","/assets/vendor.735a8723.js"])},{path:"detail",name:"form-detail",meta:{title:"表单详情"},component:()=>mo((()=>import("./index.cd9455b2.js")),["/assets/index.cd9455b2.js","/assets/vendor.735a8723.js"])}]}];var Oo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ro});const Io=[{path:"/list",name:"List",redirect:"/list/basic-list",component:po,meta:{title:"列表页面",icon:fo(V),sort:1},children:[{path:"basic-list",name:"basic-list",meta:{title:"基础列表"},component:()=>mo((()=>import("./index.5fdf1865.js")),["/assets/index.5fdf1865.js","/assets/list.cb61a6c7.js","/assets/list.55921772.css","/assets/vendor.735a8723.js","/assets/useDesignSetting.739a8556.js","/assets/componentSetting.df76d574.js"])}]}];var So=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Io});const Po=[{path:"/result",name:"Result",redirect:"/result/success",component:po,meta:{title:"结果页面",icon:fo(B),sort:4},children:[{path:"success",name:"result-success",meta:{title:"成功页"},component:()=>mo((()=>import("./success.723643b7.js")),["/assets/success.723643b7.js","/assets/success.680fd6fe.css","/assets/vendor.735a8723.js"])},{path:"fail",name:"result-fail",meta:{title:"失败页"},component:()=>mo((()=>import("./fail.9e984799.js")),["/assets/fail.9e984799.js","/assets/fail.1f631c83.css","/assets/vendor.735a8723.js"])},{path:"info",name:"result-info",meta:{title:"信息页"},component:()=>mo((()=>import("./info.2ec4071e.js")),["/assets/info.2ec4071e.js","/assets/info.11e1a3e6.css","/assets/vendor.735a8723.js"])}]}];var wo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Po});const Ao=[{path:"/setting",name:"Setting",redirect:"/setting/account",component:po,meta:{title:"设置页面",icon:fo(G),sort:5},children:[{path:"account",name:"setting-account",meta:{title:"个人设置"},component:()=>mo((()=>import("./account.963348c2.js")),["/assets/account.963348c2.js","/assets/account.8fe08d7a.css","/assets/vendor.735a8723.js"])},{path:"system",name:"setting-system",meta:{title:"系统设置"},component:()=>mo((()=>import("./system.511d04ab.js")),["/assets/system.511d04ab.js","/assets/system.d8ec38f0.css","/assets/vendor.735a8723.js"])}]}];var Co=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ao});const Do={path:"/:path(.*)*",name:"ErrorPage",component:po,meta:{title:"ErrorPage",hideBreadcrumb:!0},children:[{path:"/:path(.*)*",name:"ErrorPage",component:()=>mo((()=>import("./404.dbd44716.js")),["/assets/404.dbd44716.js","/assets/404.c43cb1e6.css","/assets/vendor.735a8723.js"]),meta:{title:"ErrorPage",hideBreadcrumb:!0}}]},Mo={path:"/redirect",name:"Redirect",component:po,meta:{title:"Redirect",hideBreadcrumb:!0},children:[{path:"/redirect/:path(.*)",name:"Redirect",component:()=>mo((()=>import("./index.3ce7d628.js")),["/assets/index.3ce7d628.js","/assets/vendor.735a8723.js"]),meta:{title:"Redirect",hideBreadcrumb:!0}}]};var xo,jo;(jo=xo||(xo={})).adminMenus="/menus",jo.GetBtnCodeListByUserId="/getBtnCodeListByUserId";const Uo={Layout:()=>mo((()=>import("./index.fc968256.js")),["/assets/index.fc968256.js","/assets/index.2472fc2e.css","/assets/vendor.735a8723.js","/assets/logo.472200b6.js","/assets/useDesignSetting.739a8556.js"]),DashboardConsole:()=>mo((()=>import("./console.54c5e038.js")),["/assets/console.54c5e038.js","/assets/vendor.735a8723.js"]),DashboardMonitor:()=>mo((()=>import("./monitor.bfa0f670.js")),["/assets/monitor.bfa0f670.js","/assets/vendor.735a8723.js"]),DashboardWorkplace:()=>mo((()=>import("./workplace.e833200f.js")),["/assets/workplace.e833200f.js","/assets/workplace.c0e5a46a.css","/assets/vendor.735a8723.js"])},No={DashboardOutlined:fo(j)},Vo=(e,t)=>e.map((e=>{const o={path:`${t&&t.path||""}/${e.path}`,name:e.name||"",component:Uo[e.component],meta:c(i({},e.meta),{label:e.meta.title,icon:No[e.meta.icon]||null,permission:e.meta.permission||null})};return o.path=o.path.replace("//","/"),e.redirect&&(o.redirect=e.redirect),e.children&&e.children.length>0&&(o.children=Vo(e.children,o)),o})),Bo=()=>new Promise(((e,t)=>{fr.request({url:xo.adminMenus,method:"GET"}).then((t=>{const o=Vo(t),r=[...cr,...o];r.forEach((e=>{lr.addRoute(e)})),e(r)})).catch((e=>{t(e)}))})),{navMode:Go,navTheme:$o,headerSetting:qo,showFooter:Fo,menuSetting:Ho,multiTabsSetting:zo,crumbsSetting:Ko,permissionMode:Wo}={navMode:"vertical",navTheme:"dark",headerSetting:{bgColor:"#fff",fixed:!0,isReload:!0},showFooter:!0,multiTabsSetting:{bgColor:"#fff",show:!0,fixed:!0},menuSetting:{minMenuWidth:64,menuWidth:200,fixed:!0},crumbsSetting:{show:!0,showIcon:!1},permissionMode:"ROLE"},Yo=S({id:"app-project-setting",state:()=>({navMode:Go,navTheme:$o,headerSetting:qo,showFooter:Fo,menuSetting:Ho,multiTabsSetting:zo,crumbsSetting:Ko,permissionMode:Wo}),getters:{getNavMode(){return this.navMode},getNavTheme(){return this.navTheme},getHeaderSetting(){return this.headerSetting},getShowFooter(){return this.showFooter},getMenuSetting(){return this.menuSetting},getMultiTabsSetting(){return this.multiTabsSetting},getCrumbsSetting(){return this.multiTabsSetting},getPermissionMode(){return this.permissionMode}},actions:{setNavTheme(e){this.navTheme=e}}});function Xo(){const e=Yo();return{getNavMode:I((()=>e.navMode)),getNavTheme:I((()=>e.navTheme)),getHeaderSetting:I((()=>e.headerSetting)),getMultiTabsSetting:I((()=>e.multiTabsSetting)),getMenuSetting:I((()=>e.menuSetting)),getCrumbsSetting:I((()=>e.crumbsSetting)),getPermissionMode:I((()=>e.permissionMode)),getShowFooter:I((()=>e.showFooter))}}const Zo={id:"id",children:"children",pid:"pid"};function Jo(e,t,o={}){const r=(o=(e=>Object.assign({},Zo,e))(o)).children;return function e(o){return o.map((e=>i({},e))).filter((o=>(o[r]=o[r]&&e(o[r]),t(o)||o[r]&&o[r].length)))}(e)}const Qo=S({id:"app-async-route",state:()=>({menus:[],routers:cr,addRouters:[],keepAliveComponents:[],isDynamicAddedRoute:!1}),getters:{getMenus(){return this.menus},getIsDynamicAddedRoute(){return this.isDynamicAddedRoute}},actions:{getRouters(){return $(this.addRouters)},setDynamicAddedRoute(e){this.isDynamicAddedRoute=e},setRouters(e){this.addRouters=e,this.routers=cr.concat(e)},setMenus(e){this.menus=e},setKeepAliveComponents(e){this.keepAliveComponents=e},generateRoutes(e){return l(this,null,(function*(){let t;const o=e.roles||[],r=e=>{const{meta:t}=e,{permission:r}=t||{};return!r||o.some((e=>r.includes(e.value)))},{getPermissionMode:n}=Xo();if("BACK"===q(n))try{t=yield Bo()}catch(a){}else try{t=Jo([...ir,...cr],r)}catch(a){}return t=t.filter(r),this.setRouters(t),this.setMenus(t),$(t)}))}}});function er(){return Qo(Yt)}F.configure({showSpinner:!1});const tr=ho.BASE_LOGIN,or=[tr];const rr={"./modules/comp.ts":To,"./modules/dashboard.ts":yo,"./modules/exception.ts":ko,"./modules/form.ts":Oo,"./modules/list.ts":So,"./modules/result.ts":wo,"./modules/setting.ts":Co},nr=[];Object.keys(rr).forEach((e=>{const t=rr[e].default||{},o=Array.isArray(t)?[...t]:[t];nr.push(...o)})),nr.sort((function(e,t){return(e.meta.sort||0)-(t.meta.sort||0)}));const ar={path:"/",name:"Root",redirect:ho.BASE_HOME,meta:{title:"Root"}},sr={path:"/login",name:"Login",component:()=>mo((()=>import("./index.3ebf03e1.js")),["/assets/index.3ebf03e1.js","/assets/index.19d624aa.css","/assets/vendor.735a8723.js","/assets/logo.472200b6.js"]),meta:{title:"登录"}},ir=[Do,...nr],cr=[sr,ar,Mo],lr=z({history:K(""),routes:cr,strict:!0,scrollBehavior:()=>({left:0,top:0})});function ur(e){e.use(lr),function(e){const t=vr(),o=er();e.beforeEach(((r,n,a)=>l(this,null,(function*(){if(F.start(),n.path===tr&&"errorPage"===r.name)return void a(ho.BASE_HOME);if(or.includes(r.path))return void a();if(!zt.get("Access-Token")){if(r.meta.ignoreAuth)return void a();const e={path:tr,replace:!0};return r.path&&(e.query=c(i({},e.query),{redirect:r.path})),void a(e)}if(o.getIsDynamicAddedRoute)return void a();const s=yield t.GetInfo();(yield o.generateRoutes(s)).forEach((t=>{e.addRoute(t)}));const l=n.query.redirect||r.path,u=decodeURIComponent(l),d=r.path===u?c(i({},r),{replace:!0}):{path:u};o.setDynamicAddedRoute(!0),a(d),F.done()})))),e.afterEach(((e,t,o)=>{var r,n,a,s;document.title=(null==(r=null==e?void 0:e.meta)?void 0:r.title)||document.title,H(o);const i=er(),c=i.keepAliveComponents,l=null==(n=e.matched.find((t=>t.name==e.name)))?void 0:n.name;if(l&&!c.includes(l)&&(null==(a=e.meta)?void 0:a.keepAlive))c.push(l);else if(!(null==(s=e.meta)?void 0:s.keepAlive)||"Redirect"==e.name){const e=i.keepAliveComponents.findIndex((e=>e==l));-1!=e&&c.splice(e,1)}i.setKeepAliveComponents(c),F.done()})),e.onError((e=>{}))}(lr)}const dr=co(),mr=dr.urlPrefix||"",{$message:pr,$dialog:hr}=window,gr={transformRequestData:(e,t)=>{const{isTransformRequestResult:o,isShowMessage:r=!0,isShowErrorMessage:n,isShowSuccessMessage:a,successMessageText:s,errorMessageText:i}=t,c=Promise.reject,{data:l}=e,{code:u,result:d,message:m}=l,p=l&&Reflect.has(l,"code")&&u===St.SUCCESS;if(r&&(p&&(s||a)?pr.success(s||m||"操作成功！"):p||!i&&!n?p||"modal"!==t.errorMessageMode||hr.confirm({title:"错误提示",content:m}):pr.error(m||i||"操作失败！")),!o)return e.data;if(!l)return c(l);if(u===St.SUCCESS)return d;if(u===St.ERROR){if(m)pr.error(l.message),Promise.reject(new Error(m));else{const e="操作失败,系统异常!";pr.error(e),Promise.reject(new Error(e))}return c()}if(u===St.TIMEOUT){if("login"==lr.currentRoute.value.name)return;const e="登录超时,请重新登录!";return hr.destroyAll(),hr.warning({title:"提示",content:"登录身份已失效,请重新登录!",onOk:()=>{lr.replace({name:"login",query:{redirect:lr.currentRoute.value.fullPath}}),zt.clear()}}),c(new Error(e))}return p?l:c(new Error(m))},beforeRequestHook:(e,t)=>{var o;const{apiUrl:r,joinPrefix:n,joinParamsToUrl:a,formatDate:s,joinTime:i=!0}=t;n&&(e.url=`${mr}${e.url}`),r&&eo(r)&&(e.url=`${r}${e.url}`);const c=e.params||{};return(null==(o=e.method)?void 0:o.toUpperCase())===wt.GET?eo(c)?(e.url=e.url+c+`${so(i,!0)}`,e.params=void 0):e.params=Object.assign(c||{},so(i,!1)):eo(c)?(e.url=e.url+c,e.params=void 0):(s&&io(c),e.data=c,e.params=void 0,a&&(e.url=function(e,t){let o="",r="";for(const n in t)o+=n+"="+encodeURIComponent(t[n])+"&";return o=o.replace(/&$/,""),r=/\?$/.test(e)?e+o:e.replace(/\/?$/,"?")+o,r}(e.url,e.data))),e},requestInterceptors:e=>{const t=vr().getToken;return t&&(e.headers.token=t),e},responseInterceptorsCatch:e=>{const{response:t,code:o,message:r}=e||{},n=t&&t.data&&t.data.error?t.data.error.message:"",a=e.toString();try{if("ECONNABORTED"===o&&-1!==r.indexOf("timeout"))return void pr.error("接口请求超时,请刷新页面重试!");if(a&&a.includes("Network Error"))return void hr.confirm({title:"网络异常",content:"请检查您的网络连接是否正常!"})}catch(s){throw new Error(s)}return A.isCancel(e)||function(e,t){const o=window.$message;switch(Ht(),e){case 400:o.error(`${t}`);break;case 401:o.error("用户没有权限（令牌、用户名、密码错误）!");break;case 403:o.error("用户得到授权，但是访问是被禁止的。!");break;case 404:o.error("网络请求错误,未找到该资源!");break;case 405:o.error("网络请求错误,请求方法未允许!");break;case 408:o.error("网络请求超时!");break;case 500:o.error("服务器错误,请联系管理员!");break;case 501:o.error("网络未实现!");break;case 502:o.error("网络错误!");break;case 503:o.error("服务不可用，服务器暂时过载或维护!");break;case 504:o.error("网络超时!");break;case 505:o.error("http版本不支持该请求!");break;default:o.error(t)}}(e.response&&e.response.status,n),e}},fr=new class{constructor(e){this.options=e,this.axiosInstance=A.create(e),this.setupInterceptors()}createAxios(e){this.axiosInstance=A.create(e)}getTransform(){const{transform:e}=this.options;return e}getAxios(){return this.axiosInstance}configAxios(e){this.axiosInstance&&this.createAxios(e)}setHeader(e){this.axiosInstance&&Object.assign(this.axiosInstance.defaults.headers,e)}setupInterceptors(){const e=this.getTransform();if(!e)return;const{requestInterceptors:t,requestInterceptorsCatch:o,responseInterceptors:r,responseInterceptorsCatch:n}=e,a=new ao;this.axiosInstance.interceptors.request.use((e=>{const{headers:{ignoreCancelToken:o}={ignoreCancelToken:!1}}=e;return!o&&a.addPending(e),t&&Jt(t)&&(e=t(e)),e}),void 0),o&&Jt(o)&&this.axiosInstance.interceptors.request.use(void 0,o),this.axiosInstance.interceptors.response.use((e=>(e&&a.removePending(e.config),r&&Jt(r)&&(e=r(e)),e)),void 0),n&&Jt(n)&&this.axiosInstance.interceptors.response.use(void 0,n)}request(e,t){let o=C(e);const r=this.getTransform(),{requestOptions:n}=this.options,a=Object.assign({},n,t),{beforeRequestHook:s,requestCatch:i,transformRequestData:c}=r||{};return s&&Jt(s)&&(o=s(o,a)),new Promise(((e,t)=>{this.axiosInstance.request(o).then((o=>{const r=A.isCancel(o);if(c&&Jt(c)&&!r){const t=c(o,a);return e(t)}t(o)})).catch((e=>{i&&Jt(i)?t(i(e)):t(e)}))}))}}({timeout:15e3,headers:{"Content-Type":Ct.FORM_URLENCODED},transform:gr,requestOptions:{joinPrefix:!0,isTransformRequestResult:!0,joinParamsToUrl:!1,formatDate:!0,errorMessageMode:"none",apiUrl:dr.apiUrl},withCredentials:!1});const _r=Ht({storage:localStorage}),br=S({id:"app-user",state:()=>({token:_r.get("Access-Token",""),username:"",welcome:"",avatar:"",roles:[],info:_r.get("Current-User",{})}),getters:{getToken(){return this.token},getAvatar(){return this.avatar},getNickname(){return this.username},getRoles(){return this.roles},getUserInfo(){return this.info}},actions:{setToken(e){this.token=e},setAvatar(e){this.avatar=e},setRoles(e){this.roles=e},setUserInfo(e){this.info=e},login(e){return l(this,null,(function*(){try{const o=yield(t=e,fr.request({url:"/login",method:"POST",params:t},{isTransformRequestResult:!1})),{result:r,code:n,message:a}=o;if(n===St.SUCCESS){const e=6048e5;zt.set("Access-Token",r.token,e),zt.set("Current-User",r,e),zt.set("Is-Lockscreen",!1),this.setToken(r.token),this.setUserInfo(r)}return Promise.resolve(o)}catch(o){return Promise.reject(o)}var t}))},GetInfo(){let e=this;return new Promise(((t,o)=>{fr.request({url:"/admin_info",method:"get"}).then((r=>{const n=r;if(n.roles&&n.roles.length){const t=n.roles;e.setRoles(t),e.setUserInfo(n)}else o(new Error("getInfo: roles must be a non-null array !"));e.setAvatar(n.avatar),t(r)})).catch((e=>{o(e)}))}))},logout(){return l(this,null,(function*(){return this.setRoles([]),this.setUserInfo(""),zt.remove("Access-Token"),zt.remove("Current-User"),Promise.resolve("")}))}}});function vr(){return br(Yt)}var Tr=u({name:"Lockscreen",components:{LockOutlined:W,LoadingOutlined:Y,UnlockOutlined:X,UserOutlined:Z,ArrowRightOutlined:J,ApiOutlined:Q,WifiOutlined:ee,recharge:Mt},setup(e,{emit:t}){const o=Wt(),r=br(),{month:n,day:a,hour:s,minute:u,second:d,week:m}=function(){let e;const t=y(0),o=y(0),r=y(""),n=y(0),a=y(0),s=y(0),i=y(0),c=()=>{var e,c;const l=new Date;t.value=l.getFullYear(),o.value=l.getMonth()+1,r.value="日一二三四五六".charAt(l.getDay()),n.value=l.getDate(),a.value=(null==(e=l.getHours()+"")?void 0:e.padStart(2,"0"))||new Intl.NumberFormat(void 0,{minimumIntegerDigits:2}).format(l.getHours()),s.value=(null==(c=l.getMinutes()+"")?void 0:c.padStart(2,"0"))||new Intl.NumberFormat(void 0,{minimumIntegerDigits:2}).format(l.getMinutes()),i.value=l.getSeconds()};return c(),L((()=>{clearInterval(e),e=setInterval((()=>c()),1e3)})),k((()=>{clearInterval(e)})),{month:o,day:n,hour:a,minute:s,second:i,week:r}}(),{online:p}=function(){const e=y(!0),t=t=>{e.value="boolean"==typeof t?t:t.target.online};return navigator.onLine?t(!0):t(!1),L((()=>{window.addEventListener("online",t),window.addEventListener("offline",t)})),k((()=>{window.removeEventListener("online",t),window.removeEventListener("offline",t)})),{online:e}}(),h=te(),g=oe(),{battery:f,batteryStatus:_,calcDischargingTime:b}=qt(),{username:v}=r.getUserInfo||{},T=O({showLogin:!1,loginLoading:!1,isLoginError:!1,errorMsg:"密码错误",loginParams:{username:v||"",password:""}}),E=e=>T.showLogin=e;return c(i({},R(T)),{online:p,month:n,day:a,hour:s,minute:u,second:d,week:m,battery:f,batteryStatus:_,calcDischargingTime:b,onLockLogin:E,onLogin:()=>l(this,null,(function*(){if(!T.loginParams.password.trim())return;const e=i({isLock:!0},T.loginParams);T.loginLoading=!0;const{code:t,result:n,message:a}=yield r.login(e);t===St.SUCCESS?(E(!1),o.setLock(!1)):(T.errorMsg=a,T.isLoginError=!0),T.loginLoading=!1})),goLogin:()=>{E(!1),o.setLock(!1),h.replace({path:"/login",query:{redirect:g.fullPath}})}})}});const Er=E();d("data-v-7317ed39");const yr={class:"lock-box"},Lr={class:"lock"},kr={class:"local-time"},Rr={class:"time"},Or={class:"date"},Ir={class:"computer-status"},Sr={key:1,class:"login-box"},Pr={class:"username"},wr={key:0,class:"w-full flex"},Ar={class:"text-red-500"},Cr={class:"w-full mt-1 flex justify-around"};m();const Dr=Er(((e,t,o,r,n,a)=>{const s=re("lock-outlined"),i=re("n-icon"),c=re("recharge"),l=re("wifi-outlined"),u=re("api-outlined"),d=re("user-outlined"),m=re("n-avatar"),b=re("LoadingOutlined"),v=re("arrow-right-outlined"),T=re("n-input");return p(),h("div",{class:[{onLockLogin:e.showLogin},"lockscreen"],onKeyup:t[6]||(t[6]=t=>e.onLockLogin(!0)),onMousedown:t[7]||(t[7]=ae((()=>{}),["stop"])),onContextmenu:t[8]||(t[8]=ae((()=>{}),["prevent"]))},[e.showLogin?ne("",!0):(p(),h(_,{key:0},[g("div",yr,[g("div",Lr,[g("span",{class:"lock-icon",title:"解锁屏幕",onClick:t[1]||(t[1]=t=>e.onLockLogin(!0))},[g(i,null,{default:Er((()=>[g(s)])),_:1})])])]),g(c,{battery:e.battery,"battery-status":e.batteryStatus,"calc-discharging-time":e.calcDischargingTime},null,8,["battery","battery-status","calc-discharging-time"]),g("div",kr,[g("div",Rr,f(e.hour)+":"+f(e.minute),1),g("div",Or,f(e.month)+"月"+f(e.day)+"号，星期"+f(e.week),1)]),g("div",Ir,[g("span",{class:[{offline:!e.online},"network"]},[g(l,{class:"network"})],2),g(u)])],64)),e.showLogin?(p(),h("div",Sr,[g(m,{size:128},{default:Er((()=>[g(i,null,{default:Er((()=>[g(d)])),_:1})])),_:1}),g("div",Pr,f(e.loginParams.username),1),g(T,{type:"password",autofocus:"",value:e.loginParams.password,"onUpdate:value":t[2]||(t[2]=t=>e.loginParams.password=t),placeholder:"请输入登录密码"},{suffix:Er((()=>[g(i,{onClick:e.onLogin,style:{cursor:"pointer"}},{default:Er((()=>[e.loginLoading?(p(),h(b,{key:0})):(p(),h(v,{key:1}))])),_:1},8,["onClick"])])),_:1},8,["value"]),e.isLoginError?(p(),h("div",wr,[g("span",Ar,f(e.errorMsg),1)])):ne("",!0),g("div",Cr,[g("div",null,[g("a",{onClick:t[3]||(t[3]=t=>e.showLogin=!1)},"返回")]),g("div",null,[g("a",{onClick:t[4]||(t[4]=(...t)=>e.goLogin&&e.goLogin(...t))},"重新登录")]),g("div",null,[g("a",{onClick:t[5]||(t[5]=(...t)=>e.onLogin&&e.onLogin(...t))},"进入系统")])])])):ne("",!0)],34)}));Tr.render=Dr,Tr.__scopeId="data-v-7317ed39";var Mr={name:"MessageContent",setup(){window.$message=se()}};Mr.render=function(e,t,o,r,n,a){return null};var xr={name:"DialogContent",setup(){window.$dialog=ie()}};xr.render=function(e,t,o,r,n,a){return null};var jr=u({name:"Application",components:{MessageContent:Mr,DialogContent:xr},setup:()=>({})});jr.render=function(e,t,o,r,n,a){const s=re("DialogContent"),i=re("MessageContent"),c=re("n-message-provider"),l=re("n-notification-provider"),u=re("n-dialog-provider");return p(),h(u,null,{default:ce((()=>[g(s),g(l,null,{default:ce((()=>[g(c,null,{default:ce((()=>[g(i),le(e.$slots,"default",{slot:"default"})])),_:3})])),_:1})])),_:1})};const Ur={darkTheme:!1,appTheme:"#2d8cf0",appThemeList:["#2d8cf0","#0960bd","#0084f4","#009688","#536dfe","#ff5c93","#ee4f12","#0096c7","#9c27b0","#ff9800"]},{darkTheme:Nr,appTheme:Vr,appThemeList:Br}=Ur,Gr=S({id:"app-design-setting",state:()=>({darkTheme:Nr,appTheme:Vr,appThemeList:Br}),getters:{getDarkTheme(){return this.darkTheme},getAppTheme(){return this.appTheme},getAppThemeList(){return this.appThemeList}},actions:{}});var $r=u({name:"App",components:{LockScreen:Tr,AppProvider:jr},setup(){const e=oe(),t=Wt(),o=Gr(),r=I((()=>t.isLock)),n=I((()=>t.lockTime)),a=I((()=>({common:{primaryColor:o.appTheme,primaryColorHover:"#57a3f3"}}))),s=I((()=>o.darkTheme?ge:void 0));let i;const c=()=>{clearInterval(i),"login"==e.name||r.value||(t.setLock(!1),t.setLockTime(),i=setInterval((()=>{if(t.setLockTime(n.value-1),n.value<=0)return t.setLock(!0),clearInterval(i)}),1e3))};return L((()=>{document.addEventListener("mousedown",c)})),k((()=>{document.removeEventListener("mousedown",c)})),{darkTheme:ue([pe,he]),getDarkTheme:s,zhCN:de,dateZhCN:me,isLock:r,getThemeOverrides:a}}});$r.render=function(e,t,o,r,n,a){const s=re("RouterView"),i=re("AppProvider"),c=re("NConfigProvider"),l=re("LockScreen");return p(),h(_,null,[e.isLock?ne("",!0):(p(),h(c,{key:0,locale:e.zhCN,theme:e.getDarkTheme,"theme-overrides":e.getThemeOverrides,"date-locale":e.dateZhCN},{default:ce((()=>[g(i,null,{default:ce((()=>[g(s)])),_:1})])),_:1},8,["locale","theme","theme-overrides","date-locale"])),e.isLock&&"login"!=e.$route.name?(p(),h(fe,{key:1,name:"slide-up"},{default:ce((()=>[g(l)])),_:1})):ne("",!0)],64)};const qr=_e({components:[be,ve,Te,Ee,ye,Le,ke,Re,Oe,M,Ie,Se,Pe,we,Ae,Ce,De,Me,xe,je,Ue,Ne,Ve,Be,Ge,$e,qe,Fe,He,ze,Ke,We,Ye,Xe,Ze,Je,Qe,et,tt,ot,rt,nt,at,st,it,ct,lt,ut,dt,mt,pt,ht,gt,ft,_t,bt,vt,Tt,Et,yt]});function Fr(){const e=br();return{hasPermission:function(t){return!t.length||function(t){return e.getRoles.some((e=>{const{value:o}=e;return t.includes(o)}))}(t)},hasEveryPermission:function(t){const o=e.getRoles;if(Array.isArray(t))return t.every((e=>!!o[e]));throw new Error(`[hasEveryPermission]: ${t} should be a array !`)},hasSomePermission:function(t){const o=e.getRoles;if(Array.isArray(t))return t.some((e=>!!o[e]));throw new Error(`[hasSomePermission]: ${t} should be a array !`)}}}const Hr={mounted(e,t,o){if(null==t.value)return;const{action:r,effect:n}=t.value,{hasPermission:a}=Fr();a(r)||("disabled"==n?(e.disabled=!0,e.style.disabled="disabled",e.classList.add("n-button--disabled")):e.remove())}};function zr(e,{message:t="ok"}={}){return Lt.mock({code:200,result:e,message:t,type:"success"})}function Kr(e,t,o){const r=(e-1)*Number(t);return r+Number(t)>=o.length?o.slice(r,o.length):o.slice(r,r+Number(t))}function Wr(e,t){let o=-1;for(;++o<e;)t(o)}var Yr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",resultSuccess:zr,resultPageSuccess:function(e,t,o,{message:r="ok"}={}){const n=Kr(e,t,o);return c(i({},zr({page:e,pageSize:t,pageCount:o.length,list:n})),{message:r})},resultError:function(e="Request failed",{code:t=-1,result:o=null}={}){return{code:t,result:o,message:e,type:"error"}},pagination:Kr,doCustomTimes:Wr,getRequestToken:function({headers:e}){return null==e?void 0:e.token}});const Xr={visits:{dayVisits:kt.exports.Random.float(1e4,99999,2,2),rise:kt.exports.Random.float(10,99),decline:kt.exports.Random.float(10,99),amount:kt.exports.Random.float(99999,999999,3,5)},saleroom:{weekSaleroom:kt.exports.Random.float(1e4,99999,2,2),amount:kt.exports.Random.float(99999,999999,2,2),degree:kt.exports.Random.float(10,99)},orderLarge:{weekLarge:kt.exports.Random.float(1e4,99999,2,2),rise:kt.exports.Random.float(10,99),decline:kt.exports.Random.float(10,99),amount:kt.exports.Random.float(99999,999999,2,2)},volume:{weekLarge:kt.exports.Random.float(1e4,99999,2,2),rise:kt.exports.Random.float(10,99),decline:kt.exports.Random.float(10,99),amount:kt.exports.Random.float(99999,999999,2,2)}};var Zr=[{url:"/api/dashboard/console",timeout:1e3,method:"get",response:()=>zr(Xr)}],Jr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Zr});var Qr=[{url:"/api/table/list",timeout:1e3,method:"get",response:({query:e})=>{const{page:t=1,pageSize:o=10}=e,r=(e=>{const t=[];return Wr(e,(()=>{t.push({id:"@integer(10,100)",beginTime:"@datetime",endTime:"@datetime",address:"@city()",name:"@cname()",avatar:kt.exports.Random.image("400x400",kt.exports.Random.color(),kt.exports.Random.color(),kt.exports.Random.first()),date:"@date('yyyy-MM-dd')",time:"@time('HH:mm')","no|100000-10000000":1e5,"status|1":["normal","enable","disable"]})})),t})(Number(o));return zr({page:Number(t),pageSize:Number(o),pageCount:60,list:r})}}],en=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Qr});const tn=[{path:"/dashboard",name:"Dashboard",component:"Layout",redirect:"/dashboard/console",meta:{icon:"DashboardOutlined",title:"Dashboard"},children:[{path:"console",name:"dashboard_console",component:"DashboardConsole",meta:{title:"主控台"}},{path:"monitor",name:"dashboard_monitor",component:"DashboardMonitor",meta:{title:"监控页"}},{path:"workplace",name:"dashboard_workplace",component:"DashboardWorkplace",meta:{hidden:!0,title:"工作台"}}]}];var on=[{url:"/api/menus",timeout:1e3,method:"get",response:()=>zr(tn)}],rn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:on});const nn=Lt.Random,an=nn.string("upper",32,32),sn={userId:"1",username:"admin",realName:"Admin",avatar:nn.image(),desc:"manager",password:nn.string("upper",4,16),token:an,roles:[{roleName:"主控台",value:"dashboard_console"},{roleName:"监控页",value:"dashboard_monitor"},{roleName:"工作台",value:"dashboard_workplace"}]};var cn=[{url:"/api/login",timeout:1e3,method:"post",response:()=>zr({token:an})},{url:"/api/admin_info",timeout:1e3,method:"get",response:()=>zr(sn)}];const ln={"./_util.ts":Yr,"./dashboard/console.ts":Jr,"./table/list.ts":en,"./user/menus.ts":rn,"./user/user.ts":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:cn})},un=[];Object.keys(ln).forEach((e=>{e.includes("/_")||un.push(...ln[e].default)})),function(){l(this,null,(function*(){const e=Ot($r);e.use(It),function(e){e.use(qr)}(e),function(e){e.directive("permission",Hr)}(e),function(e){e.use(Yt)}(e),yield ur(e),yield lr.isReady(),e.mount("#app",!0)}))}(),Rt(un);export{fr as A,ho as P,St as R,Ft as T,eo as a,to as b,Gr as c,co as d,Jt as e,Qt as f,Xo as g,Qo as h,oo as i,Yo as j,_o as k,Wt as l,fo as r,zt as s,br as u,bo as w};
