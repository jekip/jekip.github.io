var e=Object.defineProperty,a=Object.defineProperties,o=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,t=(a,o,s)=>o in a?e(a,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[o]=s;import{d as i,bb as n,bc as c,bd as d,be as u,f,Z as p,j as v,Q as m,R as g,i as b,p as h,a as w,V as y,o as x,c as _,b as j,e as O,bf as k}from"./vendor.af0afcfa.js";import{u as C,R as I}from"./index.e1fec0d3.js";import{l as L}from"./logo.472200b6.js";var P=i({components:{PersonOutline:n,LockClosedOutline:c,LogoGithub:d,LogoFacebook:u},setup(){const e=f(),i=p(),n=v({loading:!1,autoLogin:!0,formInline:{username:"admin",password:"123456",isCaptcha:!0}}),c=C(),d=m(),u=g();return h=((e,a)=>{for(var o in a||(a={}))l.call(a,o)&&t(e,o,a[o]);if(s)for(var o of s(a))r.call(a,o)&&t(e,o,a[o]);return e})({},b(n)),a(h,o({formRef:e,rules:{username:{required:!0,message:"请输入用户名",trigger:"blur"},password:{required:!0,message:"请输入密码",trigger:"blur"},isCaptcha:{required:!0,type:"boolean",trigger:"change",message:"请点击按钮进行验证码校验",validator:(e,a)=>!0===a}},logo:L,handleSubmit:a=>{a.preventDefault(),e.value.validate((e=>{return o=this,s=null,l=function*(){var a;if(e)i.error("请填写完整信息，并且进行验证码校验");else{const{username:e,password:o}=n.formInline;i.loading("登录中..."),n.loading=!0;const s={username:e,password:o},{code:l,message:r}=yield c.login(s);if(l==I.SUCCESS){const e=decodeURIComponent((null==(a=u.query)?void 0:a.redirect)||"/");i.success("登录成功！"),d.replace(e).then((e=>{"login"==u.name&&d.replace("/")}))}else i.info(r||"登录失败")}},new Promise(((e,r)=>{var t=e=>{try{n(l.next(e))}catch(a){r(a)}},i=e=>{try{n(l.throw(e))}catch(a){r(a)}},n=a=>a.done?e(a.value):Promise.resolve(a.value).then(t,i);n((l=l.apply(o,s)).next())}));var o,s,l}))},onAuthCode:function(){n.formInline.isCaptcha=!0}}));var h}});const z=O();h("data-v-584c337c");const S={class:"view-account"},U=j("div",{class:"view-account-header"},null,-1),R={class:"view-account-container"},q=j("div",{class:"view-account-top"},[j("div",{class:"view-account-top-logo"},[j("img",{src:"/assets/account-logo.0a6f895e.png",alt:""})]),j("div",{class:"view-account-top-desc"},"Naive Ui Admin中台前端/设计解决方案")],-1),A={class:"view-account-form"},D={class:"flex justify-between"},E={class:"flex-initial"},F=k("自动登录"),G=j("div",{class:"flex-initial order-last"},[j("a",{href:"javascript:;"},"忘记密码")],-1),N=k(" 登录 "),Q={class:"flex view-account-other"},V=j("div",{class:"flex-initial"},[j("span",null,"其它登录方式")],-1),Z={class:"flex-initial mx-2"},B={href:"javascript:;"},H={class:"flex-initial mx-2"},J={href:"javascript:;"},K=j("div",{class:"flex-initial",style:{"margin-left":"auto"}},[j("a",{href:"javascript:;"},"注册账号")],-1);w();const M=z(((e,a,o,s,l,r)=>{const t=y("PersonOutline"),i=y("n-icon"),n=y("n-input"),c=y("n-form-item"),d=y("LockClosedOutline"),u=y("n-checkbox"),f=y("n-button"),p=y("LogoGithub"),v=y("LogoFacebook"),m=y("n-form");return x(),_("div",S,[U,j("div",R,[q,j("div",A,[j(m,{ref:"formRef","label-placement":"left",size:"large",model:e.formInline,rules:e.rules},{default:z((()=>[j(c,{path:"username"},{default:z((()=>[j(n,{value:e.formInline.username,"onUpdate:value":a[1]||(a[1]=a=>e.formInline.username=a),placeholder:"请输入用户名"},{prefix:z((()=>[j(i,{size:"18",color:"#808695"},{default:z((()=>[j(t)])),_:1})])),_:1},8,["value"])])),_:1}),j(c,{path:"password"},{default:z((()=>[j(n,{value:e.formInline.password,"onUpdate:value":a[2]||(a[2]=a=>e.formInline.password=a),type:"password","show-password-toggle":"",placeholder:"请输入密码"},{prefix:z((()=>[j(i,{size:"18",color:"#808695"},{default:z((()=>[j(d)])),_:1})])),_:1},8,["value"])])),_:1}),j(c,{class:"default-color"},{default:z((()=>[j("div",D,[j("div",E,[j(u,{checked:e.autoLogin,"onUpdate:checked":a[3]||(a[3]=a=>e.autoLogin=a)},{default:z((()=>[F])),_:1},8,["checked"])]),G])])),_:1}),j(c,null,{default:z((()=>[j(f,{type:"primary",onClick:e.handleSubmit,size:"large",loading:e.loading,block:""},{default:z((()=>[N])),_:1},8,["onClick","loading"])])),_:1}),j(c,{class:"default-color"},{default:z((()=>[j("div",Q,[V,j("div",Z,[j("a",B,[j(i,{size:"24",color:"#2d8cf0"},{default:z((()=>[j(p)])),_:1})])]),j("div",H,[j("a",J,[j(i,{size:"24",color:"#2d8cf0"},{default:z((()=>[j(v)])),_:1})])]),K])])),_:1})])),_:1},8,["model","rules"])])])])}));P.render=M,P.__scopeId="data-v-584c337c";export default P;
