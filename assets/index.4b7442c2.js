var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(t,r,o)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,i=(e,t)=>{for(var r in t||(t={}))a.call(t,r)&&s(e,r,t[r]);if(o)for(var r of o(t))n.call(t,r)&&s(e,r,t[r]);return e},c=(e,o)=>t(e,r(o)),l=(e,t,r)=>new Promise(((o,a)=>{var n=e=>{try{i(r.next(e))}catch(t){a(t)}},s=e=>{try{i(r.throw(e))}catch(t){a(t)}},i=e=>e.done?o(e.value):Promise.resolve(e.value).then(n,s);i((r=r.apply(e,t)).next())}));import{d as u,p as d,a as m,o as h,c as p,b as g,t as f,F as _,r as v,w as b,v as T,e as y,f as k,g as E,h as R,i as L,j as O,k as w,l as S,m as P,E as I,n as A,q as C,s as M,N as D,W as x,D as U,P as j,u as N,x as B,y as V,z as G,A as $,B as q,C as F,L as H,G as K,U as z,H as W,I as Y,J as X,K as Z,M as J,O as Q,Q as ee,R as te,S as re,T as oe,V as ae,X as ne,Y as se,Z as ie,_ as ce,$ as le,a0 as ue,a1 as de,a2 as me,a3 as he,a4 as pe,a5 as ge,a6 as fe,a7 as _e,a8 as ve,a9 as be,aa as Te,ab as ye,ac as ke,ad as Ee,ae as Re,af as Le,ag as Oe,ah as we,ai as Se,aj as Pe,ak as Ie,al as Ae,am as Ce,an as Me,ao as De,ap as xe,aq as Ue,ar as je,as as Ne,at as Be,au as Ve,av as Ge,aw as $e,ax as qe,ay as Fe,az as He,aA as Ke,aB as ze,aC as We,aD as Ye,aE as Xe,aF as Ze,aG as Je,aH as Qe,aI as et,aJ as tt,aK as rt,aL as ot,aM as at,aN as nt,aO as st,aP as it,aQ as ct,aR as lt,aS as ut,aT as dt,aU as mt,aV as ht,aW as pt,aX as gt,aY as ft,aZ as _t,a_ as vt,a$ as bt}from"./vendor.1641eb33.js";var Tt,yt,kt,Et,Rt,Lt;(yt=Tt||(Tt={}))[yt.SUCCESS=200]="SUCCESS",yt[yt.ERROR=-1]="ERROR",yt[yt.TIMEOUT=10042]="TIMEOUT",yt.TYPE="success",(Et=kt||(kt={})).GET="GET",Et.POST="POST",Et.PATCH="PATCH",Et.PUT="PUT",Et.DELETE="DELETE",(Lt=Rt||(Rt={})).JSON="application/json;charset=UTF-8",Lt.TEXT="text/plain;charset=UTF-8",Lt.FORM_URLENCODED="application/x-www-form-urlencoded;charset=UTF-8",Lt.FORM_DATA="multipart/form-data;charset=UTF-8";var Ot=u({name:"HuaweiCharge",props:{battery:{type:Object,default:()=>({})},calcDischargingTime:{type:String,default:""},batteryStatus:{type:String,validator:e=>["充电中","已充满","已断开电源"].includes(e)}}});const wt=y();d("data-v-578dc66e");const St={class:"container"},Pt={class:"number"},It={class:"contrast"},At=g("div",{class:"circle"},null,-1),Ct={class:"bubbles"},Mt={class:"charging"};m();const Dt=wt(((e,t,r,o,a,n)=>(h(),p("div",St,[g("div",Pt,f(e.battery.level)+"%",1),g("div",It,[At,g("ul",Ct,[(h(),p(_,null,v(15,(e=>g("li",{key:e}))),64))])]),g("div",Mt,[g("div",null,f(e.batteryStatus),1),b(g("div",null," 剩余可使用时间："+f(e.calcDischargingTime),513),[[T,Number.isFinite(e.battery.dischargingTime)&&0!=e.battery.dischargingTime]]),b(g("span",null," 距离电池充满需要："+f(e.calcDischargingTime),513),[[T,Number.isFinite(e.battery.chargingTime)&&0!=e.battery.chargingTime]])])]))));Ot.render=Dt,Ot.__scopeId="data-v-578dc66e";const xt=()=>{const e=O({battery:{charging:!1,chargingTime:0,dischargingTime:0,level:100}}),t=t=>{for(const r in e.battery)e.battery[r]=t[r];e.battery.level=100*e.battery.level},r=w((()=>`${~~(e.battery.dischargingTime/3600)}小时${~~(e.battery.dischargingTime/60%60)}分钟`)),o=w((()=>e.battery.charging&&e.battery.level>=100?"已充满":e.battery.charging?"充电中":"已断开电源"));return E((()=>l(this,null,(function*(){const e=yield window.navigator.getBattery();t(e),e.onchargingchange=({target:e})=>{t(e)},e.onchargingtimechange=({target:e})=>{t(e)},e.ondischargingtimechange=({target:e})=>{t(e)},e.onlevelchange=({target:e})=>{t(e)}})))),c(i({},L(e)),{batteryStatus:o,calcDischargingTime:r})},Ut="Tabs-Routes",jt=({prefixKey:e="",storage:t=localStorage}={})=>new class{constructor(){this.storage=t,this.prefixKey=e}getKey(e){return`${this.prefixKey}${e}`.toUpperCase()}set(e,t,r=604800){const o=JSON.stringify({value:t,expire:null!==r?(new Date).getTime()+1e3*r:null});this.storage.setItem(this.getKey(e),o)}get(e,t=null){const r=this.storage.getItem(this.getKey(e));if(r)try{const t=JSON.parse(r),{value:o,expire:a}=t;if(null===a||a>=Date.now())return o;this.remove(this.getKey(e))}catch(o){return t}return t}remove(e){this.storage.removeItem(this.getKey(e))}clear(){this.storage.clear()}setCookie(e,t,r=604800){document.cookie=`${this.getKey(e)}=${t}; Max-Age=${r}`}getCookie(e){const t=document.cookie.split("; ");for(let r=0,o=t.length;r<o;r++){const o=t[r].split("=");if(o[0]===this.getKey(e))return o[1]}return""}removeCookie(e){this.setCookie(e,1,-1)}clearCookie(){const e=document.cookie.match(/[^ =;]+(?==)/g);if(e)for(let t=e.length;t--;)document.cookie=e[t]+"=0;expire="+new Date(0).toUTCString()}},Nt=jt(),Bt=Nt.get("Is-Lockscreen",!1),Vt=S({id:"app-lockscreen",state:()=>({isLock:!0===Bt,lockTime:"true"==Bt?3600:0}),getters:{},actions:{setLock(e){this.isLock=e,Nt.set("Is-Lockscreen",this.isLock)},setLockTime(e=3600){this.lockTime=e}}}),Gt=P();const $t=Object.prototype.toString;function qt(e,t){return $t.call(e)===`[object ${t}]`}function Ft(e){return qt(e,"Function")}function Ht(e){return qt(e,"Number")}function Kt(e){return qt(e,"String")}function zt(e){return qt(e,"Boolean")}function Wt(e){return e&&Array.isArray(e)}let Yt=new Map;const Xt=e=>[e.method,e.url,I.stringify(e.data),I.stringify(e.params)].join("&");class Zt{addPending(e){this.removePending(e);const t=Xt(e);e.cancelToken=e.cancelToken||new A.CancelToken((e=>{Yt.has(t)||Yt.set(t,e)}))}removeAllPending(){Yt.forEach((e=>{e&&Ft(e)&&e()})),Yt.clear()}removePending(e){const t=Xt(e);if(Yt.has(t)){const e=Yt.get(t);e&&e(t),Yt.delete(t)}}reset(){Yt=new Map}}function Jt(e,t=!1){if(!e)return t?"":{};const r=(new Date).getTime();return t?`?_t=${r}`:{_t:r}}function Qt(e){var t;if("[object Object]"===Object.prototype.toString.call(e))for(const o in e){if(e[o]&&e[o]._isAMomentObject&&(e[o]=e[o].format("YYYY-MM-DD HH:mm")),Kt(o)){const t=e[o];if(t)try{e[o]=Kt(t)?t.trim():t}catch(r){throw new Error(r)}}null!==(t=e[o])&&qt(t,"Object")&&Qt(e[o])}}const er=()=>{const{VITE_GLOB_APP_TITLE:e,VITE_GLOB_API_URL:t,VITE_GLOB_APP_SHORT_NAME:r,VITE_GLOB_API_URL_PREFIX:o,VITE_GLOB_UPLOAD_URL:a,VITE_GLOB_PERMISSION_MODE:n,VITE_GLOB_PROD_MOCK:s}=function(){const e="__PRODUCTION__AdminPro__CONF__".toUpperCase().replace(/\s/g,""),t=window[e],{VITE_GLOB_APP_TITLE:r,VITE_GLOB_API_URL:o,VITE_GLOB_APP_SHORT_NAME:a,VITE_GLOB_API_URL_PREFIX:n,VITE_GLOB_UPLOAD_URL:s,VITE_GLOB_PROD_MOCK:i}=t;return/^[a-zA-Z\_]*$/.test(a),{VITE_GLOB_APP_TITLE:r,VITE_GLOB_API_URL:o,VITE_GLOB_APP_SHORT_NAME:a,VITE_GLOB_API_URL_PREFIX:n,VITE_GLOB_UPLOAD_URL:s,VITE_GLOB_PROD_MOCK:i}}();/[a-zA-Z\_]*/.test(r);return{title:e,apiUrl:t,shortName:r,urlPrefix:o,uploadUrl:a,permissionMode:n,prodMock:s}};let tr;const rr={},or=function(e,t){if(!t||0===t.length)return e();if(void 0===tr){const e=document.createElement("link").relList;tr=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in rr)return;rr[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":tr,t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise(((e,t)=>{o.addEventListener("load",e),o.addEventListener("error",t)})):void 0}))).then((()=>e()))},ar=()=>or((()=>import("./index.d6fb7fab.js")),["/assets/index.d6fb7fab.js","/assets/index.25caa678.css","/assets/vendor.1641eb33.js","/assets/useDesignSetting.c121c1ec.js"]);function nr(e){return()=>M(D,null,{default:()=>M(e)})}function sr(e,t){return e.filter((e=>1!=e.meta.hidden&&!["/:path(.*)*","/","/redirect","/login"].includes(e.path))).map((e=>{const t=c(i(i({},e),e.meta),{label:e.meta.title,key:e.name});return e.children&&e.children.length>0&&(t.children=sr(e.children)),t}))}const ir=(e,t)=>{const r=e;return r.install=o=>{o.component(r.name||r.displayName,e),t&&(o.config.globalProperties[t]=e)},e},cr=[{path:"/comp",name:"comp",redirect:"/comp/console",component:ar,meta:{title:"组件",icon:nr(x),sort:1},children:[{path:"table",name:"comp_table",meta:{title:"基础表格"},component:()=>or((()=>import("./list.2549ef41.js")),["/assets/list.2549ef41.js","/assets/list.5c7877ab.css","/assets/vendor.1641eb33.js","/assets/useDesignSetting.c121c1ec.js"])}]}];var lr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:cr});const ur=[{path:"/dashboard",name:"dashboard",redirect:"/dashboard/console",component:ar,meta:{title:"Dashboard",icon:nr(U),permission:["dashboard_console","dashboard_console","dashboard_workplace"],sort:0},children:[{path:"console",name:"dashboard_console",meta:{title:"主控台",permission:["dashboard_console"]},component:()=>or((()=>import("./console.82bd9bfa.js")),["/assets/console.82bd9bfa.js","/assets/vendor.1641eb33.js"])},{path:"workplace",name:"dashboard_workplace",meta:{title:"工作台",keepAlive:!0,permission:["dashboard_workplace"]},component:()=>or((()=>import("./workplace.2d93b907.js")),["/assets/workplace.2d93b907.js","/assets/workplace.14a481fa.css","/assets/vendor.1641eb33.js"])}]}];var dr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ur});const mr=[{path:"/form",name:"Form",redirect:"/form/basic-form",component:ar,meta:{title:"表单页面",icon:nr(j),sort:1},children:[{path:"basic-form",name:"form-basic-form",meta:{title:"基础表单"},component:()=>or((()=>import("./index.183634db.js")),["/assets/index.183634db.js","/assets/vendor.1641eb33.js"])},{path:"step-form",name:"form-step-form",meta:{title:"分步表单"},component:()=>or((()=>import("./stepForm.3791e601.js")),["/assets/stepForm.3791e601.js","/assets/stepForm.6752d30b.css","/assets/vendor.1641eb33.js"])},{path:"detail",name:"form-detail",meta:{title:"表单详情"},component:()=>or((()=>import("./index.72d011a7.js")),["/assets/index.72d011a7.js","/assets/vendor.1641eb33.js"])}]}];var hr=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:mr});const pr={path:"/:path(.*)*",name:"ErrorPage",component:ar,meta:{title:"ErrorPage",hideBreadcrumb:!0},children:[{path:"/:path(.*)*",name:"ErrorPage",component:()=>or((()=>import("./404.97cb0121.js")),["/assets/404.97cb0121.js","/assets/404.a3db516d.css","/assets/vendor.1641eb33.js"]),meta:{title:"ErrorPage",hideBreadcrumb:!0}}]},gr={path:"/redirect",name:"Redirect",component:ar,meta:{title:"Redirect",hideBreadcrumb:!0},children:[{path:"/redirect/:path(.*)",name:"Redirect",component:()=>or((()=>import("./index.5f391665.js")),["/assets/index.5f391665.js","/assets/vendor.1641eb33.js"]),meta:{title:"Redirect",hideBreadcrumb:!0}}]};var fr,_r,vr,br;(_r=fr||(fr={})).BASE_LOGIN="/login",_r.BASE_HOME="/dashboard",_r.ERROR_PAGE="/exception",_r.ERROR_LOG_PAGE="/error-log/list",(br=vr||(vr={})).adminMenus="/menus",br.GetBtnCodeListByUserId="/getBtnCodeListByUserId";const Tr={Layout:()=>or((()=>import("./index.d6fb7fab.js")),["/assets/index.d6fb7fab.js","/assets/index.25caa678.css","/assets/vendor.1641eb33.js","/assets/useDesignSetting.c121c1ec.js"]),DashboardConsole:()=>or((()=>import("./console.82bd9bfa.js")),["/assets/console.82bd9bfa.js","/assets/vendor.1641eb33.js"]),DashboardMonitor:()=>or((()=>import("./monitor.aadd2886.js")),["/assets/monitor.aadd2886.js","/assets/vendor.1641eb33.js"]),DashboardWorkplace:()=>or((()=>import("./workplace.2d93b907.js")),["/assets/workplace.2d93b907.js","/assets/workplace.14a481fa.css","/assets/vendor.1641eb33.js"])},yr={DashboardOutlined:nr(U)},kr=(e,t)=>e.map((e=>{const r={path:`${t&&t.path||""}/${e.path}`,name:e.name||"",component:Tr[e.component],meta:c(i({},e.meta),{label:e.meta.title,icon:yr[e.meta.icon]||null,permission:e.meta.permission||null})};return r.path=r.path.replace("//","/"),e.redirect&&(r.redirect=e.redirect),e.children&&e.children.length>0&&(r.children=kr(e.children,r)),r})),Er=()=>new Promise(((e,t)=>{Jr.request({url:vr.adminMenus,method:"GET"}).then((t=>{const r=kr(t),o=[...Hr,...r];o.forEach((e=>{Kr.addRoute(e)})),e(o)})).catch((e=>{t(e)}))})),{navMode:Rr,navTheme:Lr,headerSetting:Or,showFooter:wr,menuSetting:Sr,multiTabsSetting:Pr,crumbsSetting:Ir,permissionMode:Ar}={navMode:"vertical",navTheme:"dark",headerSetting:{bgColor:"#fff",fixed:!0,isReload:!0},showFooter:!0,multiTabsSetting:{bgColor:"#fff",show:!0,fixed:!0},menuSetting:{minMenuWidth:64,menuWidth:200,fixed:!0},crumbsSetting:{show:!0,showIcon:!1},permissionMode:"ROLE"},Cr=S({id:"app-project-setting",state:()=>({navMode:Rr,navTheme:Lr,headerSetting:Or,showFooter:wr,menuSetting:Sr,multiTabsSetting:Pr,crumbsSetting:Ir,permissionMode:Ar}),getters:{getNavMode(){return this.navMode},getNavTheme(){return this.navTheme},getHeaderSetting(){return this.headerSetting},getShowFooter(){return this.showFooter},getMenuSetting(){return this.menuSetting},getMultiTabsSetting(){return this.multiTabsSetting},getCrumbsSetting(){return this.multiTabsSetting},getPermissionMode(){return this.permissionMode}},actions:{setNavTheme(e){this.navTheme=e}}});function Mr(){const e=Cr();return{getNavMode:w((()=>e.navMode)),getNavTheme:w((()=>e.navTheme)),getHeaderSetting:w((()=>e.headerSetting)),getMultiTabsSetting:w((()=>e.multiTabsSetting)),getMenuSetting:w((()=>e.menuSetting)),getCrumbsSetting:w((()=>e.crumbsSetting)),getPermissionMode:w((()=>e.permissionMode)),getShowFooter:w((()=>e.showFooter))}}jt({storage:localStorage});const Dr={id:"id",children:"children",pid:"pid"};function xr(e,t,r={}){const o=(r=(e=>Object.assign({},Dr,e))(r)).children;return function e(r){return r.map((e=>i({},e))).filter((r=>(r[o]=r[o]&&e(r[o]),t(r)||r[o]&&r[o].length)))}(e)}const Ur=S({id:"app-async-route",state:()=>({menus:[],routers:Hr,addRouters:[],keepAliveComponents:[],isDynamicAddedRoute:!1}),getters:{getMenus(e){return this.menus},getIsDynamicAddedRoute(){return this.isDynamicAddedRoute}},actions:{getRouters(){return N(this.addRouters)},setDynamicAddedRoute(e){this.isDynamicAddedRoute=e},setRouters(e){this.addRouters=e,this.routers=Hr.concat(e)},setMenus(e){this.menus=e},setKeepAliveComponents(e){this.keepAliveComponents=e},generateRoutes(e){return l(this,null,(function*(){let t;const r=e.roles||[],o=e=>{const{meta:t}=e,{permission:o}=t||{};return!o||r.some((e=>o.includes(e.value)))},{getPermissionMode:a}=Mr();if("BACK"===B(a))try{t=yield Er()}catch(n){}else try{t=xr([...Fr,...Hr],o)}catch(n){}return t=t.filter(o),this.setRouters(t),this.setMenus(t),N(t)}))}}});function jr(){return Ur(Gt)}er(),V.configure({showSpinner:!1});const Nr=["/login"],Br=fr.BASE_LOGIN;fr.BASE_HOME,G((({to:e,from:t,next:r,hasRoute:o,router:a})=>{const n=to(),s=jr();n.GetInfo().then((n=>{s.generateRoutes(n).then((()=>{if(s.getRouters().forEach((e=>{a.addRoute(e)})),o)r();else{decodeURIComponent(t.query.redirect||"");e.path,r(c(i({},e),{replace:!0}))}})).catch((()=>r({path:defaultRoutePath})))}))}),1800,{leading:!0});const Vr={"./modules/comp.ts":lr,"./modules/dashboard.ts":dr,"./modules/form.ts":hr},Gr=[];Object.keys(Vr).forEach((e=>{const t=Vr[e].default||{},r=Array.isArray(t)?[...t]:[t];Gr.push(...r)})),Gr.sort((function(e,t){return(e.meta.sort||0)-(t.meta.sort||0)}));const $r={path:"/",name:"Root",redirect:fr.BASE_HOME,meta:{title:"Root"}},qr={path:"/login",name:"Login",component:()=>or((()=>import("./index.d6171559.js")),["/assets/index.d6171559.js","/assets/index.462e0318.css","/assets/vendor.1641eb33.js"]),meta:{title:"登录"}},Fr=[pr,...Gr],Hr=[qr,$r,gr],Kr=q({history:F(""),routes:Hr,strict:!0,scrollBehavior:()=>({left:0,top:0})});const zr=er(),Wr=zr.urlPrefix||"",Yr=window.$message,Xr=window.$dialog,Zr={transformRequestData:(e,t)=>{const{isTransformRequestResult:r,isShowMessage:o=!0,isShowErrorMessage:a,isShowSuccessMessage:n,successMessageText:s,errorMessageText:i}=t,c=Promise.reject,{data:l}=e,{code:u,result:d,message:m}=l,h=l&&Reflect.has(l,"code")&&u===Tt.SUCCESS;if(o&&(h&&(s||n)?Yr.success(s||m||"操作成功！"):h||!i&&!a?h||"modal"!==t.errorMessageMode||Xr.confirm({title:"错误提示",content:m}):Yr.error(m||i||"操作失败！")),!r)return e.data;if(!l)return c(l);if(u===Tt.SUCCESS)return d;if(u===Tt.ERROR){if(m)Yr.error(l.message),Promise.reject(new Error(m));else{const e="操作失败,系统异常!";Yr.error(e),Promise.reject(new Error(e))}return c()}if(u===Tt.TIMEOUT){if("login"==Kr.currentRoute.value.name)return;const e="登录超时,请重新登录!";return Xr.destroyAll(),Xr.warning({title:"提示",content:"登录身份已失效,请重新登录!",onOk:()=>{Kr.replace({name:"login",query:{redirect:Kr.currentRoute.value.fullPath}}),Nt.clear()}}),c(new Error(e))}return h?l:c(new Error(m))},beforeRequestHook:(e,t)=>{var r;const{apiUrl:o,joinPrefix:a,joinParamsToUrl:n,formatDate:s,joinTime:i=!0}=t;a&&(e.url=`${Wr}${e.url}`),o&&Kt(o)&&(e.url=`${o}${e.url}`);const c=e.params||{};return(null==(r=e.method)?void 0:r.toUpperCase())===kt.GET?Kt(c)?(e.url=e.url+c+`${Jt(i,!0)}`,e.params=void 0):e.params=Object.assign(c||{},Jt(i,!1)):Kt(c)?(e.url=e.url+c,e.params=void 0):(s&&Qt(c),e.data=c,e.params=void 0,n&&(e.url=function(e,t){let r="",o="";for(const a in t)r+=a+"="+encodeURIComponent(t[a])+"&";return r=r.replace(/&$/,""),o=/\?$/.test(e)?e+r:e.replace(/\/?$/,"?")+r,o}(e.url,e.data))),e},requestInterceptors:e=>{const t=to().getToken;return t&&(e.headers.token=t),e},responseInterceptorsCatch:e=>{const{response:t,code:r,message:o}=e||{},a=t&&t.data&&t.data.error?t.data.error.message:"",n=e.toString();try{if("ECONNABORTED"===r&&-1!==o.indexOf("timeout"))return void Yr.error("接口请求超时,请刷新页面重试!");if(n&&n.includes("Network Error"))return void Xr.confirm({title:"网络异常",content:"请检查您的网络连接是否正常!"})}catch(s){throw new Error(s)}return A.isCancel(e)||function(e,t){const r=window.$message;switch(jt(),e){case 400:r.error(`${t}`);break;case 401:r.error("用户没有权限（令牌、用户名、密码错误）!");break;case 403:r.error("用户得到授权，但是访问是被禁止的。!");break;case 404:r.error("网络请求错误,未找到该资源!");break;case 405:r.error("网络请求错误,请求方法未允许!");break;case 408:r.error("网络请求超时!");break;case 500:r.error("服务器错误,请联系管理员!");break;case 501:r.error("网络未实现!");break;case 502:r.error("网络错误!");break;case 503:r.error("服务不可用，服务器暂时过载或维护!");break;case 504:r.error("网络超时!");break;case 505:r.error("http版本不支持该请求!");break;default:r.error(t)}}(e.response&&e.response.status,a),e}},Jr=new class{constructor(e){this.options=e,this.axiosInstance=A.create(e),this.setupInterceptors()}createAxios(e){this.axiosInstance=A.create(e)}getTransform(){const{transform:e}=this.options;return e}getAxios(){return this.axiosInstance}configAxios(e){this.axiosInstance&&this.createAxios(e)}setHeader(e){this.axiosInstance&&Object.assign(this.axiosInstance.defaults.headers,e)}setupInterceptors(){const e=this.getTransform();if(!e)return;const{requestInterceptors:t,requestInterceptorsCatch:r,responseInterceptors:o,responseInterceptorsCatch:a}=e,n=new Zt;this.axiosInstance.interceptors.request.use((e=>{const{headers:{ignoreCancelToken:r}={ignoreCancelToken:!1}}=e;return!r&&n.addPending(e),t&&Ft(t)&&(e=t(e)),e}),void 0),r&&Ft(r)&&this.axiosInstance.interceptors.request.use(void 0,r),this.axiosInstance.interceptors.response.use((e=>(e&&n.removePending(e.config),o&&Ft(o)&&(e=o(e)),e)),void 0),a&&Ft(a)&&this.axiosInstance.interceptors.response.use(void 0,a)}request(e,t){let r=C(e);const o=this.getTransform(),{requestOptions:a}=this.options,n=Object.assign({},a,t),{beforeRequestHook:s,requestCatch:i,transformRequestData:c}=o||{};return s&&Ft(s)&&(r=s(r,n)),new Promise(((e,t)=>{this.axiosInstance.request(r).then((r=>{const o=A.isCancel(r);if(c&&Ft(c)&&!o){const t=c(r,n);return e(t)}t(r)})).catch((e=>{i&&Ft(i)?t(i(e)):t(e)}))}))}}({timeout:15e3,headers:{"Content-Type":Rt.FORM_URLENCODED},transform:Zr,requestOptions:{joinPrefix:!0,isTransformRequestResult:!0,joinParamsToUrl:!1,formatDate:!0,errorMessageMode:"none",apiUrl:zr.apiUrl},withCredentials:!1});const Qr=jt({storage:localStorage}),eo=S({id:"app-user",state:()=>({token:Qr.get("Access-Token",""),username:"",welcome:"",avatar:"",roles:[],info:Qr.get("Current-User",{})}),getters:{getToken(){return this.token},getAvatar(){return this.avatar},getNickname(){return this.username},getRoles(){return this.roles},getUserInfo(){return this.info}},actions:{setToken(e){this.token=e},setAvatar(e){this.avatar=e},setRoles(e){this.roles=e},setUserInfo(e){this.info=e},login(e){return l(this,null,(function*(){try{const r=yield(t=e,Jr.request({url:"/login",method:"POST",params:t},{isTransformRequestResult:!1})),{result:o,code:a,message:n}=r;if(a===Tt.SUCCESS){const e=6048e5;Nt.set("Access-Token",o.token,e),Nt.set("Current-User",o,e),Nt.set("Is-Lockscreen",!1),this.setToken(o.token),this.setUserInfo(o)}return Promise.resolve(r)}catch(r){return Promise.reject(r)}var t}))},GetInfo(){let e=this;return new Promise(((t,r)=>{Jr.request({url:"/admin_info",method:"get"}).then((o=>{const a=o;if(a.roles&&a.roles.length){const t=a.roles;e.setRoles(t),e.setUserInfo(a)}else r(new Error("getInfo: roles must be a non-null array !"));e.setAvatar(a.avatar),t(o)})).catch((e=>{r(e)}))}))},logout(){return l(this,null,(function*(){return this.setRoles([]),this.setUserInfo(""),Nt.remove("Access-Token"),Nt.remove("Current-User"),Promise.resolve("")}))}}});function to(){return eo(Gt)}var ro=u({name:"Lockscreen",components:{LockOutlined:H,LoadingOutlined:K,UnlockOutlined:z,UserOutlined:W,ArrowRightOutlined:Y,ApiOutlined:X,WifiOutlined:Z,recharge:Ot},setup(e,{emit:t}){const r=Vt(),o=eo(),{month:a,day:n,hour:s,minute:u,second:d,week:m}=function(){let e;const t=k(0),r=k(0),o=k(""),a=k(0),n=k(0),s=k(0),i=k(0),c=()=>{var e,c;const l=new Date;t.value=l.getFullYear(),r.value=l.getMonth()+1,o.value="日一二三四五六".charAt(l.getDay()),a.value=l.getDate(),n.value=(null==(e=l.getHours()+"")?void 0:e.padStart(2,"0"))||new Intl.NumberFormat(void 0,{minimumIntegerDigits:2}).format(l.getHours()),s.value=(null==(c=l.getMinutes()+"")?void 0:c.padStart(2,"0"))||new Intl.NumberFormat(void 0,{minimumIntegerDigits:2}).format(l.getMinutes()),i.value=l.getSeconds()};return c(),E((()=>{clearInterval(e),e=setInterval((()=>c()),1e3)})),R((()=>{clearInterval(e)})),{month:r,day:a,hour:n,minute:s,second:i,week:o}}(),{online:h}=function(){const e=k(!0),t=t=>{e.value="boolean"==typeof t?t:t.target.online};return navigator.onLine?t(!0):t(!1),E((()=>{window.addEventListener("online",t),window.addEventListener("offline",t)})),R((()=>{window.removeEventListener("online",t),window.removeEventListener("offline",t)})),{online:e}}(),p=J(),g=Q(),{battery:f,batteryStatus:_,calcDischargingTime:v}=xt(),{username:b}=o.getUserInfo||{},T=O({showLogin:!1,loginLoading:!1,isLoginError:!1,errorMsg:"密码错误",loginParams:{username:b||"",password:""}}),y=e=>T.showLogin=e;return c(i({},L(T)),{online:h,month:a,day:n,hour:s,minute:u,second:d,week:m,battery:f,batteryStatus:_,calcDischargingTime:v,onLockLogin:y,onLogin:()=>l(this,null,(function*(){if(!T.loginParams.password.trim())return;const e=i({isLock:!0},T.loginParams);T.loginLoading=!0;const{code:t,result:a,message:n}=yield o.login(e);t===Tt.SUCCESS?(y(!1),r.setLock(!1)):(T.errorMsg=n,T.isLoginError=!0),T.loginLoading=!1})),goLogin:()=>{y(!1),r.setLock(!1),p.replace({path:"/login",query:{redirect:g.fullPath}})}})}});const oo=y();d("data-v-400aa5b9");const ao={class:"lock-box"},no={class:"lock"},so={class:"local-time"},io={class:"time"},co={class:"date"},lo={class:"computer-status"},uo={key:1,class:"login-box"},mo={class:"username"},ho={key:0,class:"w-full flex"},po={class:"text-red-500"},go={class:"w-full mt-1 flex justify-around"};m();const fo=oo(((e,t,r,o,a,n)=>{const s=ee("lock-outlined"),i=ee("n-icon"),c=ee("recharge"),l=ee("wifi-outlined"),u=ee("api-outlined"),d=ee("user-outlined"),m=ee("n-avatar"),v=ee("LoadingOutlined"),b=ee("arrow-right-outlined"),T=ee("n-input");return h(),p("div",{class:[{onLockLogin:e.showLogin},"lockscreen"],onKeyup:t[6]||(t[6]=t=>e.onLockLogin(!0)),onMousedown:t[7]||(t[7]=re((()=>{}),["stop"])),onContextmenu:t[8]||(t[8]=re((()=>{}),["prevent"]))},[e.showLogin?te("",!0):(h(),p(_,{key:0},[g("div",ao,[g("div",no,[g("span",{class:"lock-icon",title:"解锁屏幕",onClick:t[1]||(t[1]=t=>e.onLockLogin(!0))},[g(i,null,{default:oo((()=>[g(s)])),_:1})])])]),g(c,{battery:e.battery,"battery-status":e.batteryStatus,"calc-discharging-time":e.calcDischargingTime},null,8,["battery","battery-status","calc-discharging-time"]),g("div",so,[g("div",io,f(e.hour)+":"+f(e.minute),1),g("div",co,f(e.month)+"月"+f(e.day)+"号，星期"+f(e.week),1)]),g("div",lo,[g("span",{class:[{offline:!e.online},"network"]},[g(l,{class:"network"})],2),g(u)])],64)),e.showLogin?(h(),p("div",uo,[g(m,{size:128},{default:oo((()=>[g(i,null,{default:oo((()=>[g(d)])),_:1})])),_:1}),g("div",mo,f(e.loginParams.username),1),g(T,{type:"password",autofocus:"",value:e.loginParams.password,"onUpdate:value":t[2]||(t[2]=t=>e.loginParams.password=t),placeholder:"请输入登录密码"},{suffix:oo((()=>[g(i,{onClick:e.onLogin,style:{cursor:"pointer"}},{default:oo((()=>[e.loginLoading?(h(),p(v,{key:0})):(h(),p(b,{key:1}))])),_:1},8,["onClick"])])),_:1},8,["value"]),e.isLoginError?(h(),p("div",ho,[g("span",po,f(e.errorMsg),1)])):te("",!0),g("div",go,[g("div",null,[g("a",{onClick:t[3]||(t[3]=t=>e.showLogin=!1)},"返回")]),g("div",null,[g("a",{onClick:t[4]||(t[4]=(...t)=>e.goLogin&&e.goLogin(...t))},"重新登录")]),g("div",null,[g("a",{onClick:t[5]||(t[5]=(...t)=>e.onLogin&&e.onLogin(...t))},"进入系统")])])])):te("",!0)],34)}));ro.render=fo,ro.__scopeId="data-v-400aa5b9";var _o={name:"MessageContent",setup(){window.$message=oe()}};_o.render=function(e,t,r,o,a,n){return null};var vo={name:"DialogContent",setup(){window.$dialog=ae()}};vo.render=function(e,t,r,o,a,n){return null};var bo=u({name:"Application",components:{MessageContent:_o,DialogContent:vo},setup:()=>({})});bo.render=function(e,t,r,o,a,n){const s=ee("DialogContent"),i=ee("MessageContent"),c=ee("n-message-provider"),l=ee("n-notification-provider"),u=ee("n-dialog-provider");return h(),p(u,null,{default:ne((()=>[g(s),g(l,null,{default:ne((()=>[g(c,null,{default:ne((()=>[g(i),se(e.$slots,"default",{slot:"default"})])),_:3})])),_:1})])),_:1})};const To={darkTheme:!1,appTheme:"#2d8cf0",appThemeList:["#2d8cf0","#0960bd","#0084f4","#009688","#536dfe","#ff5c93","#ee4f12","#0096c7","#9c27b0","#ff9800"]},{darkTheme:yo,appTheme:ko,appThemeList:Eo}=To,Ro=S({id:"app-design-setting",state:()=>({darkTheme:yo,appTheme:ko,appThemeList:Eo}),getters:{getDarkTheme(){return this.darkTheme},getAppTheme(){return this.appTheme},getAppThemeList(){return this.appThemeList}},actions:{}});var Lo=u({name:"App",components:{LockScreen:ro,AppProvider:bo},setup(){const e=Q(),t=Vt(),r=Ro(),o=w((()=>t.isLock)),a=w((()=>t.lockTime)),n=w((()=>({common:{primaryColor:r.appTheme,primaryColorHover:"#57a3f3"}}))),s=w((()=>r.darkTheme?me:void 0));let i;const c=()=>{clearInterval(i),"login"==e.name||o.value||(t.setLock(!1),t.setLockTime(),i=setInterval((()=>{if(t.setLockTime(a.value-1),a.value<=0)return t.setLock(!0),clearInterval(i)}),1e3))};return E((()=>{document.addEventListener("mousedown",c)})),R((()=>{document.removeEventListener("mousedown",c)})),{darkTheme:ie([ue,de]),getDarkTheme:s,zhCN:ce,dateZhCN:le,isLock:o,getThemeOverrides:n}}});Lo.render=function(e,t,r,o,a,n){const s=ee("RouterView"),i=ee("AppProvider"),c=ee("NConfigProvider"),l=ee("LockScreen");return h(),p(_,null,[e.isLock?te("",!0):(h(),p(c,{key:0,locale:e.zhCN,theme:e.getDarkTheme,"theme-overrides":e.getThemeOverrides,"date-locale":e.dateZhCN},{default:ne((()=>[g(i,null,{default:ne((()=>[g(s)])),_:1})])),_:1},8,["locale","theme","theme-overrides","date-locale"])),e.isLock&&"login"!=e.$route.name?(h(),p(he,{key:1,name:"slide-up"},{default:ne((()=>[g(l)])),_:1})):te("",!0)],64)};const Oo=pe({components:[ge,fe,_e,ve,be,Te,ye,ke,Ee,D,Re,Le,Oe,we,Se,Pe,Ie,Ae,Ce,Me,De,xe,Ue,je,Ne,Be,Ve,Ge,$e,qe,Fe,He,Ke,ze,We,Ye,Xe,Ze,Je,Qe,et,tt,rt,ot,at,nt,st,it,ct,lt,ut,dt,mt,ht,pt,gt]});function wo(){const e=eo();return{hasPermission:function(t){return!t.length||function(t){return e.getRoles.some((e=>{const{value:r}=e;return t.includes(r)}))}(t)},hasEveryPermission:function(t){const r=e.getRoles;if(Array.isArray(t))return t.every((e=>!!r[e]));throw new Error(`[hasEveryPermission]: ${t} should be a array !`)},hasSomePermission:function(t){const r=e.getRoles;if(Array.isArray(t))return t.some((e=>!!r[e]));throw new Error(`[hasSomePermission]: ${t} should be a array !`)}}}const So={mounted(e,t,r){if(null==t.value)return;const{action:o,effect:a}=t.value,{hasPermission:n}=wo();n(o)||("disabled"==a?(e.disabled=!0,e.style.disabled="disabled",e.classList.add("n-button--disabled")):e.remove())}};function Po(e,{message:t="ok"}={}){return ft.mock({code:200,result:e,message:t,type:"success"})}function Io(e,t,r){const o=(e-1)*Number(t);return o+Number(t)>=r.length?r.slice(o,r.length):r.slice(o,o+Number(t))}function Ao(e,t){let r=-1;for(;++r<e;)t(r)}var Co=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",resultSuccess:Po,resultPageSuccess:function(e,t,r,{message:o="ok"}={}){const a=Io(e,t,r);return c(i({},Po({page:e,pageSize:t,pageCount:r.length,list:a})),{message:o})},resultError:function(e="Request failed",{code:t=-1,result:r=null}={}){return{code:t,result:r,message:e,type:"error"}},pagination:Io,doCustomTimes:Ao,getRequestToken:function({headers:e}){return null==e?void 0:e.token}});const Mo={visits:{dayVisits:_t.exports.Random.float(1e4,99999,2,2),rise:_t.exports.Random.float(10,99),decline:_t.exports.Random.float(10,99),amount:_t.exports.Random.float(99999,999999,3,5)},saleroom:{weekSaleroom:_t.exports.Random.float(1e4,99999,2,2),amount:_t.exports.Random.float(99999,999999,2,2),degree:_t.exports.Random.float(10,99)},orderLarge:{weekLarge:_t.exports.Random.float(1e4,99999,2,2),rise:_t.exports.Random.float(10,99),decline:_t.exports.Random.float(10,99),amount:_t.exports.Random.float(99999,999999,2,2)},volume:{weekLarge:_t.exports.Random.float(1e4,99999,2,2),rise:_t.exports.Random.float(10,99),decline:_t.exports.Random.float(10,99),amount:_t.exports.Random.float(99999,999999,2,2)}};var Do=[{url:"/api/dashboard/console",timeout:1e3,method:"get",response:()=>Po(Mo)}],xo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Do});var Uo=[{url:"/api/table/list",timeout:1e3,method:"get",response:({query:e})=>{const{page:t=1,pageSize:r=10}=e,o=(e=>{const t=[];return Ao(e,(()=>{t.push({id:"@integer(10,100)",beginTime:"@datetime",endTime:"@datetime",address:"@city()",name:"@cname()",avatar:_t.exports.Random.image("400x400",_t.exports.Random.color(),_t.exports.Random.color(),_t.exports.Random.first()),date:"@date('yyyy-MM-dd')",time:"@time('HH:mm')","no|100000-10000000":1e5,"status|1":["normal","enable","disable"]})})),t})(Number(r));return Po({page:Number(t),pageSize:Number(r),pageCount:60,list:o})}}],jo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Uo});const No=[{path:"/dashboard",name:"Dashboard",component:"Layout",redirect:"/dashboard/console",meta:{icon:"DashboardOutlined",title:"Dashboard"},children:[{path:"console",name:"dashboard_console",component:"DashboardConsole",meta:{title:"主控台"}},{path:"monitor",name:"dashboard_monitor",component:"DashboardMonitor",meta:{title:"监控页"}},{path:"workplace",name:"dashboard_workplace",component:"DashboardWorkplace",meta:{hidden:!0,title:"工作台"}}]}];var Bo=[{url:"/api/menus",timeout:1e3,method:"get",response:()=>Po(No)}],Vo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Bo});const Go=ft.Random,$o=Go.string("upper",32,32),qo={userId:"1",username:"admin",realName:"Admin",avatar:Go.image(),desc:"manager",password:Go.string("upper",4,16),token:$o,roles:[{roleName:"主控台",value:"dashboard_console"},{roleName:"监控页",value:"dashboard_monitor"},{roleName:"工作台",value:"dashboard_workplace"}]};var Fo=[{url:"/api/login",timeout:1e3,method:"post",response:()=>Po({token:$o})},{url:"/api/admin_info",timeout:1e3,method:"get",response:()=>Po(qo)}];const Ho={"./_util.ts":Co,"./dashboard/console.ts":xo,"./table/list.ts":jo,"./user/menus.ts":Vo,"./user/user.ts":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Fo})},Ko=[];Object.keys(Ho).forEach((e=>{e.includes("/_")||Ko.push(...Ho[e].default)}));const zo=bt(Lo);zo.use(Oo),function(e){e.directive("permission",So)}(zo),function(e){e.use(Gt)}(zo),function(e){e.use(Kr),function(e){const t=to(),r=jr();e.beforeEach(((o,a,n)=>l(this,null,(function*(){if(V.start(),a.path===Br&&"errorPage"===o.name)return void n(fr.BASE_HOME);if(Nr.includes(o.path))return void n();const s=Nt.get("Access-Token");if(Nt.get("roles"),!s){if(o.meta.ignoreAuth)return void n();const e={path:Br,replace:!0};return o.path&&(e.query=c(i({},e.query),{redirect:o.path})),void n(e)}if(r.getIsDynamicAddedRoute)return void n();const l=yield t.GetInfo();(yield r.generateRoutes(l)).forEach((t=>{e.addRoute(t)}));const u=a.query.redirect||o.path,d=decodeURIComponent(u),m=o.path===d?c(i({},o),{replace:!0}):{path:d};r.setDynamicAddedRoute(!0),n(m),V.done()})))),e.afterEach(((e,t,r)=>{var o,a,n,s;document.title=(null==(o=null==e?void 0:e.meta)?void 0:o.title)||document.title,$(r);const i=jr(),c=i.keepAliveComponents,l=null==(a=e.matched.find((t=>t.name==e.name)))?void 0:a.name;if(l&&!c.includes(l)&&(null==(n=e.meta)?void 0:n.keepAlive))c.push(l);else if(!(null==(s=e.meta)?void 0:s.keepAlive)||"Redirect"==e.name){const e=i.keepAliveComponents.findIndex((e=>e==l));-1!=e&&c.splice(e,1)}i.setKeepAliveComponents(c),V.done()})),e.onError((e=>{}))}(Kr)}(zo),Kr.isReady().then((()=>zo.mount("#app"))),vt(Ko);export{Jr as A,Tt as R,Ut as T,Kt as a,zt as b,Ro as c,Ft as d,Ht as e,Mr as f,Ur as g,Cr as h,Wt as i,sr as j,Vt as k,nr as r,Nt as s,eo as u,ir as w};
