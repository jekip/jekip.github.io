import{p as l,q as u}from"./index--2wEcaVU.js";import{r as i,E as f,K as o,w as c,n as d}from"./vue-C3qUmXuJ.js";function p(n){const t=i(null),r=i(!1);async function a(){const e=o(t);return e||console.error("The form instance has not been obtained, please make sure that the form has been rendered when performing the form operation!"),await d(),e}function m(e){f(()=>{t.value=null,r.value=null}),!(o(r)&&l()&&e===o(t))&&(t.value=e,r.value=!0,c(()=>n,()=>{n&&e.setProps(u(n))},{immediate:!0,deep:!0}))}return[m,{setProps:async e=>{await(await a()).setProps(e)},resetFields:async()=>{a().then(async e=>{await e.resetFields()})},clearValidate:async e=>{await(await a()).clearValidate(e)},getFieldsValue:()=>o(t)?.getFieldsValue(),setFieldsValue:async e=>{await(await a()).setFieldsValue(e)},submit:async()=>(await a()).submit(),validate:async e=>(await a()).validate(e),setLoading:e=>{r.value=e},setSchema:async e=>{(await a()).setSchema(e)}}]}export{p as u};
