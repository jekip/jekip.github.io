import{B as j}from"./BasicUpload-DRgeO7ZW.js";import{a as w}from"./index--2wEcaVU.js";import{ah as N,w as q,L as P,M as R,d as S,e as F,b as L,r as M,B as T}from"./naive-ui-zccZ3jep.js";import{k as E,r as G,e as f,N as H,O as J,P as c,a2 as e,a3 as n,j as m,K as i}from"./vue-C3qUmXuJ.js";import"./componentSetting-DYSsJNsh.js";import"./vicons-antd-g9a0d-xa.js";import"./pinia-DjitYwKU.js";import"./lodash-es-Wid6WkHk.js";import"./vue-quill-DMQesYph.js";import"./vue-router-DVIe63a7.js";import"./vicons-ionicons5-Ctkv33lH.js";const K={class:"n-layout-page-header"},Q={style:{"margin-left":"80px"}},ne=E({__name:"index",setup(W){const g=w(),v={name:{required:!0,message:"请输入预约姓名",trigger:"blur"},remark:{required:!0,message:"请输入预约备注",trigger:"blur"},images:{required:!0,type:"array",message:"请上传病例图片",trigger:"change"}},l=G(null),u=N(),{uploadUrl:b}=g,o=f({name:"",mobile:"",images:["https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"]}),h=f({platform:"miniPrograms",timestamp:new Date().getTime(),token:"Q6fFCuhc1vkKn5JNFWaCLf6gRAc5n0LQHd08dSnG4qo="});function k(){l.value.validate(s=>{s?u.error("验证失败，请填写完整信息"):u.success("验证成功")})}function x(){l.value.restoreValidation()}function y(s){o.images=i(s)}return(s,t)=>{const p=q,_=L,r=F,d=T,C=M,B=S,U=R,V=P;return J(),H("div",null,[c("div",K,[e(p,{bordered:!1,title:"上传图片"},{default:n(()=>t[3]||(t[3]=[m(" 上传图片，用于向用户收集图片信息 ",-1)])),_:1,__:[3]})]),e(p,{bordered:!1,class:"mt-4 proCard"},{default:n(()=>[e(V,{cols:"2 s:1 m:3 l:3 xl:3 2xl:3",responsive:"screen"},{default:n(()=>[e(U,{offset:"0 s:0 m:1 l:1 xl:1 2xl:1"},{default:n(()=>[e(B,{"label-width":90,model:o,rules:v,"label-placement":"left",ref_key:"formRef",ref:l,class:"py-8"},{default:n(()=>[e(r,{label:"预约姓名",path:"name"},{default:n(()=>[e(_,{value:o.name,"onUpdate:value":t[0]||(t[0]=a=>o.name=a),placeholder:"输入姓名"},null,8,["value"])]),_:1}),e(r,{label:"预约号码",path:"mobile"},{default:n(()=>[e(_,{placeholder:"电话号码",value:o.mobile,"onUpdate:value":t[1]||(t[1]=a=>o.mobile=a)},null,8,["value"])]),_:1}),e(r,{label:"病例图片",path:"images"},{default:n(()=>[e(i(j),{action:`${i(b)}/v1.0/files`,headers:h,data:{type:0},name:"files",width:100,height:100,onUploadChange:y,value:o.images,"onUpdate:value":t[2]||(t[2]=a=>o.images=a),helpText:"单个文件不超过2MB，最多只能上传10个文件"},null,8,["action","headers","value"])]),_:1}),c("div",Q,[e(C,null,{default:n(()=>[e(d,{type:"primary",onClick:k},{default:n(()=>t[4]||(t[4]=[m("提交预约",-1)])),_:1,__:[4]}),e(d,{onClick:x},{default:n(()=>t[5]||(t[5]=[m("重置",-1)])),_:1,__:[5]})]),_:1})])]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})])}}});export{ne as default};
